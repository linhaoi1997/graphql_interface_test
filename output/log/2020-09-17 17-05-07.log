2020-09-17 17:05:07,689 - GraphqlClient.py - send_request - DEBUG -http://192.168.1.175:8888/graphql/?login
2020-09-17 17:05:07,690 - GraphqlClient.py - send_request - DEBUG -{'Content-Type': 'application/json'}
2020-09-17 17:05:07,700 - GraphqlClient.py - send_request - DEBUG -{
  'input': {
    'account': 'admin',
    'password': 'admin',
  },
}

2020-09-17 17:05:09,882 - GraphqlClient.py - send_request - DEBUG -{
  'data': {
    'login': {
      '__typename': 'AuthInfo',
      'employee': {
        '__typename': 'Employee',
        'account': 'admin',
        'code': None,
        'department': {
          '__typename': 'Department',
          'headcount': 30,
          'id': '1',
          'name': '喜临门家具股份有限公司',
          'parentPath': [],
          'subsidiaries': [],
        },
        'email': None,
        'id': '1',
        'job': None,
        'name': '管理员',
        'phone': None,
        'roles': [
          {'id': '1', 'name': '负责人', 'permissions':...(len=170),
        ],
        'status': 'ACTIVATED',
      },
      'token': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJjcmVkZW50aWFscyI6eyJlbXB
                sb3llZV9pZCI6MSwiaXNfYWRtaW5fIjp0cnVlfSwidXNlciI6eyJpZCI6MSwiY29
                ...(5 hidden lines)',
    },
  },
  'errors': None,
}

2020-09-17 17:05:09,884 - GraphqlClient.py - send_request - DEBUG -http://192.168.1.175:8888/graphql/?formStructs
2020-09-17 17:05:09,884 - GraphqlClient.py - send_request - DEBUG -{'Content-Type': 'application/json', 'authorization': 'Token eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJjcmVkZW50aWFscyI6eyJlbXBsb3llZV9pZCI6MSwiaXNfYWRtaW5fIjp0cnVlfSwidXNlciI6eyJpZCI6MSwiY29tcGFueV9pZCI6MSwibmFtZSI6Ilx1N2JhMVx1NzQwNlx1NTQ1OCIsImRlcGFydG1lbnRfaWQiOjEsImNvZGUiOm51bGwsInBob25lIjpudWxsLCJqb2IiOm51bGwsImVtYWlsIjpudWxsLCJhY2NvdW50IjoiYWRtaW4iLCJzdGF0dXMiOiJBQ1RJVkFURUQiLCJyb2xlcyI6bnVsbH0sImV4cCI6MTYwMDQxOTkwOH0.jbrR_ZJOEDhAJBnkJtuPP7gvXQXvoJKJBwg1Ly-dtYs'}
2020-09-17 17:05:09,884 - GraphqlClient.py - send_request - DEBUG -{
  'isDraft': False,
}

2020-09-17 17:05:10,060 - GraphqlClient.py - send_request - DEBUG -{
  'data': {
    'formStructs': [
      {
        '__typename': 'FormStruct',
        'customFields': [
          {'id': 'spare_part_outbounds_领用仓库',...(len=392),
          {'id': 'spare_part_outbounds_领用工厂',...(len=396),
          {'id': 'spare_part_outbounds_领用时间',...(len=306),
        ],
        'displayName': '申领单信息',
        'name': 'spare_part_outbounds',
      },
      {
        '__typename': 'FormStruct',
        'customFields': [
          {'id': 'spare_part_receipts_入库仓库',...(len=392),
          {'id': 'spare_part_receipts_入库工厂',...(len=396),
          {'id': 'spare_part_receipts_入库时间',...(len=306),
        ],
        'displayName': '入库单信息',
        'name': 'spare_part_receipts',
      },
      {
        '__typename': 'FormStruct',
        'customFields': [
          {'id': 'spare_parts_备件名称', 'type':...(len=382),
          {'id': 'spare_parts_备件类型', 'type':...(len=341),
          {'id': 'spare_parts_备件型号', 'type':...(len=383),
          {'id': 'spare_parts_生产厂家', 'type':...(len=397),
          {'id': 'spare_parts_经销商', 'type':...(len=391),
          {'id': 'spare_parts_备件描述', 'type':...(len=381),
          {'id': 'spare_parts_附件', 'type':...(len=314),
          {'id': 'spare_parts_图片', 'type':...(len=300),
          {'id': 'spare_parts_单价', 'type':...(len=318),
          {'id':...(len=339),
          {'id':...(len=339),
          {'id':...(len=339),
          {'id':...(len=337),
          {'id':...(len=452),
          {'id':...(len=492),
        ],
        'displayName': '备件基本档案',
        'name': 'spare_parts',
      },
      {
        '__typename': 'FormStruct',
        'customFields': [
          {'id': 'thing_inspection_rules_巡检方案名...(len=400),
        ],
        'displayName': '设备巡检方案',
        'name': 'thing_inspection_rules',
      },
      {
        '__typename': 'FormStruct',
        'customFields': [],
        'displayName': '巡检工单',
        'name': 'thing_inspections',
      },
      {
        '__typename': 'FormStruct',
        'customFields': [
          {'id': 'thing_inspections_feedback_巡检完...(len=322),
        ],
        'displayName': '反馈巡检工单',
        'name': 'thing_inspections_feedback',
      },
      {
        '__typename': 'FormStruct',
        'customFields': [],
        'displayName': '保养工单',
        'name': 'thing_maintenance',
      },
      {
        '__typename': 'FormStruct',
        'customFields': [
          {'id': 'thing_maintenance_feedback_结束时...(len=315),
          {'id': 'thing_maintenance_feedback_备注',...(len=395),
          {'id': 'thing_maintenance_feedback_备件费...(len=357),
          {'id': 'thing_maintenance_feedback_材料费...(len=354),
          {'id': 'thing_maintenance_feedback_人工费...(len=348),
          {'id': 'thing_maintenance_feedback_其他费...(len=352),
          {'id': 'thing_maintenance_feedback_保养结...(len=397),
          {'id': 'thing_maintenance_feedback_保养图...(len=323),
        ],
        'displayName': '反馈保养工单',
        'name': 'thing_maintenance_feedback',
      },
      {
        '__typename': 'FormStruct',
        'customFields': [
          {'id': 'thing_maintenance_rules_保养方案...(len=402),
          {'id': 'thing_maintenance_rules_保养等级...(len=379),
          {'id': 'thing_maintenance_rules_保养频次...(len=403),
        ],
        'displayName': '保养方案',
        'name': 'thing_maintenance_rules',
      },
      {
        '__typename': 'FormStruct',
        'customFields': [
          {'id': 'thing_repairs_申请部门', 'type':...(len=408),
          {'id': 'thing_repairs_故障描述', 'type':...(len=395),
          {'id': 'thing_repairs_故障图片', 'type':...(len=315),
        ],
        'displayName': '报修单信息',
        'name': 'thing_repairs',
      },
      {
        '__typename': 'FormStruct',
        'customFields': [
          {'id': 'thing_repairs_feedback_维修完成时...(len=329),
          {'id': 'thing_repairs_feedback_备件费',...(len=351),
          {'id': 'thing_repairs_feedback_维修费用',...(len=307),
          {'id': 'thing_repairs_feedback_材料费',...(len=348),
          {'id': 'thing_repairs_feedback_人工费',...(len=341),
          {'id': 'thing_repairs_feedback_其他费用',...(len=346),
          {'id': 'thing_repairs_feedback_维修结果',...(len=393),
        ],
        'displayName': '报修单反馈信息',
        'name': 'thing_repairs_feedback',
      },
      {
        '__typename': 'FormStruct',
        'customFields': [
          {'id': 'things_设备名称', 'type': 'TEXT',...(len=376),
          {'id': 'things_设备编码', 'type': 'TEXT',...(len=376),
          {'id': 'things_设备位置', 'type': 'TEXT',...(len=385),
          {'id': 'things_设备型号', 'type': 'TEXT',...(len=378),
          {'id': 'things_负责人', 'type':...(len=291),
          {'id': 'things_手机号码', 'type': 'TEXT',...(len=378),
          {'id': 'things_生产厂家', 'type': 'TEXT',...(len=392),
          {'id': 'things_经销商', 'type': 'TEXT',...(len=386),
          {'id': 'things_采购日期', 'type':...(len=307),
          {'id': 'things_启用日期', 'type':...(len=307),
          {'id': 'things_关联附件', 'type':...(len=311),
          {'id': 'things_设备图片', 'type':...(len=296),
          {'id': 'things_设备描述', 'type': 'TEXT',...(len=377),
          {'id': 'things_设备类别', 'type':...(len=344),
          {'id': 'things_品牌', 'type':...(len=328),
          {'id': 'things_使用工厂', 'type':...(len=340),
          {'id': 'things_用途', 'type':...(len=330),
          {'id': 'things_设备状态', 'type':...(len=338),
          {'id': 'things_采购价格(固定资产原值)',...(len=367),
          {'id': 'things_预计使用年限', 'type':...(len=341),
          {'id': 'things_已使用年数', 'type':...(len=332),
          {'id': 'things_预计净产值率', 'type':...(len=359),
          {'id': 'things_年折旧率', 'type':...(len=347),
        ],
        'displayName': '设备信息',
        'name': 'things',
      },
    ],
  },
  'errors': None,
}

2020-09-17 17:05:10,273 - GraphqlClient.py - send_request - DEBUG -http://192.168.1.175:8888/graphql/?login
2020-09-17 17:05:10,273 - GraphqlClient.py - send_request - DEBUG -{'Content-Type': 'application/json'}
2020-09-17 17:05:10,278 - GraphqlClient.py - send_request - DEBUG -{
  'input': {
    'account': 'admin',
    'password': 'admin',
  },
}

2020-09-17 17:05:10,659 - GraphqlClient.py - send_request - DEBUG -{
  'data': {
    'login': {
      '__typename': 'AuthInfo',
      'employee': {
        '__typename': 'Employee',
        'account': 'admin',
        'code': None,
        'department': {
          '__typename': 'Department',
          'headcount': 30,
          'id': '1',
          'name': '喜临门家具股份有限公司',
          'parentPath': [],
          'subsidiaries': [],
        },
        'email': None,
        'id': '1',
        'job': None,
        'name': '管理员',
        'phone': None,
        'roles': [
          {'id': '1', 'name': '负责人', 'permissions':...(len=170),
        ],
        'status': 'ACTIVATED',
      },
      'token': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJjcmVkZW50aWFscyI6eyJlbXB
                sb3llZV9pZCI6MSwiaXNfYWRtaW5fIjp0cnVlfSwidXNlciI6eyJpZCI6MSwiY29
                ...(5 hidden lines)',
    },
  },
  'errors': None,
}

2020-09-17 17:05:11,053 - GraphqlClient.py - send_request - DEBUG -http://192.168.1.175:8888/graphql/?login
2020-09-17 17:05:11,053 - GraphqlClient.py - send_request - DEBUG -{'Content-Type': 'application/json'}
2020-09-17 17:05:11,054 - GraphqlClient.py - send_request - DEBUG -{
  'input': {
    'account': 'admin',
    'password': 'admin',
  },
}

2020-09-17 17:05:11,331 - GraphqlClient.py - send_request - DEBUG -{
  'data': {
    'login': {
      '__typename': 'AuthInfo',
      'employee': {
        '__typename': 'Employee',
        'account': 'admin',
        'code': None,
        'department': {
          '__typename': 'Department',
          'headcount': 30,
          'id': '1',
          'name': '喜临门家具股份有限公司',
          'parentPath': [],
          'subsidiaries': [],
        },
        'email': None,
        'id': '1',
        'job': None,
        'name': '管理员',
        'phone': None,
        'roles': [
          {'id': '1', 'name': '负责人', 'permissions':...(len=170),
        ],
        'status': 'ACTIVATED',
      },
      'token': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJjcmVkZW50aWFscyI6eyJlbXB
                sb3llZV9pZCI6MSwiaXNfYWRtaW5fIjp0cnVlfSwidXNlciI6eyJpZCI6MSwiY29
                ...(5 hidden lines)',
    },
  },
  'errors': None,
}

2020-09-17 17:05:11,364 - GraphqlClient.py - send_request - DEBUG -http://192.168.1.175:8888/graphql/?login
2020-09-17 17:05:11,364 - GraphqlClient.py - send_request - DEBUG -{'Content-Type': 'application/json'}
2020-09-17 17:05:11,380 - GraphqlClient.py - send_request - DEBUG -{
  'input': {
    'account': 'admin',
    'password': 'admin',
  },
}

2020-09-17 17:05:11,641 - GraphqlClient.py - send_request - DEBUG -{
  'data': {
    'login': {
      '__typename': 'AuthInfo',
      'employee': {
        '__typename': 'Employee',
        'account': 'admin',
        'code': None,
        'department': {
          '__typename': 'Department',
          'headcount': 30,
          'id': '1',
          'name': '喜临门家具股份有限公司',
          'parentPath': [],
          'subsidiaries': [],
        },
        'email': None,
        'id': '1',
        'job': None,
        'name': '管理员',
        'phone': None,
        'roles': [
          {'id': '1', 'name': '负责人', 'permissions':...(len=170),
        ],
        'status': 'ACTIVATED',
      },
      'token': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJjcmVkZW50aWFscyI6eyJlbXB
                sb3llZV9pZCI6MSwiaXNfYWRtaW5fIjp0cnVlfSwidXNlciI6eyJpZCI6MSwiY29
                ...(5 hidden lines)',
    },
  },
  'errors': None,
}

2020-09-17 17:05:11,909 - GraphqlClient.py - send_request - DEBUG -http://192.168.1.175:8888/graphql/?permissionTable
2020-09-17 17:05:11,921 - GraphqlClient.py - send_request - DEBUG -{'Content-Type': 'application/json', 'authorization': 'Token eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJjcmVkZW50aWFscyI6eyJlbXBsb3llZV9pZCI6MSwiaXNfYWRtaW5fIjp0cnVlfSwidXNlciI6eyJpZCI6MSwiY29tcGFueV9pZCI6MSwibmFtZSI6Ilx1N2JhMVx1NzQwNlx1NTQ1OCIsImRlcGFydG1lbnRfaWQiOjEsImNvZGUiOm51bGwsInBob25lIjpudWxsLCJqb2IiOm51bGwsImVtYWlsIjpudWxsLCJhY2NvdW50IjoiYWRtaW4iLCJzdGF0dXMiOiJBQ1RJVkFURUQiLCJyb2xlcyI6bnVsbH0sImV4cCI6MTYwMDQxOTkxMX0.SaV2grr8Ur_nKw0niKN0TT_eoqieGXMlI-Gce9OAc0k'}
2020-09-17 17:05:11,922 - GraphqlClient.py - send_request - DEBUG -{
}

2020-09-17 17:05:12,010 - GraphqlClient.py - send_request - DEBUG -{
  'data': {
    'permissionTable': {
      '__typename': 'PermissionTable',
      'admin': {
        '__typename': 'Permission',
        'description': '所有数据权限，可管理全部信息',
        'id': '1',
        'scopes': [],
      },
      'modules': [
        {
          '__typename': 'PermissionModule',
          'name': 'SCADA',
          'permissions': [{'id': '27', 'scopes': [], 'description':...(len=88),
        },
        {
          '__typename': 'PermissionModule',
          'name': '主设备管理',
          'permissions': [{'id': '2', 'scopes': ['/query/thing',...(len=397),
        },
        {
          '__typename': 'PermissionModule',
          'name': '保养',
          'permissions': [{'id': '16', 'scopes':...(len=952),
        },
        {
          '__typename': 'PermissionModule',
          'name': '备件管理',
          'permissions': [{'id': '28', 'scopes': ['/mutation/updat...(len=1298),
        },
        {
          '__typename': 'PermissionModule',
          'name': '巡检',
          'permissions': [{'id': '12', 'scopes':...(len=864),
        },
        {
          '__typename': 'PermissionModule',
          'name': '概览（报表）',
          'permissions': [{'id': '26', 'scopes':...(len=181),
        },
        {
          '__typename': 'PermissionModule',
          'name': '维修',
          'permissions': [{'id': '10', 'scopes':...(len=544),
        },
        {
          '__typename': 'PermissionModule',
          'name': '设置',
          'permissions': [{'id': '20', 'scopes':...(len=884),
        },
      ],
    },
  },
  'errors': None,
}

2020-09-17 17:05:12,011 - GraphqlClient.py - send_request - DEBUG -http://192.168.1.175:8888/graphql/?createRole
2020-09-17 17:05:12,011 - GraphqlClient.py - send_request - DEBUG -{'Content-Type': 'application/json', 'authorization': 'Token eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJjcmVkZW50aWFscyI6eyJlbXBsb3llZV9pZCI6MSwiaXNfYWRtaW5fIjp0cnVlfSwidXNlciI6eyJpZCI6MSwiY29tcGFueV9pZCI6MSwibmFtZSI6Ilx1N2JhMVx1NzQwNlx1NTQ1OCIsImRlcGFydG1lbnRfaWQiOjEsImNvZGUiOm51bGwsInBob25lIjpudWxsLCJqb2IiOm51bGwsImVtYWlsIjpudWxsLCJhY2NvdW50IjoiYWRtaW4iLCJzdGF0dXMiOiJBQ1RJVkFURUQiLCJyb2xlcyI6bnVsbH0sImV4cCI6MTYwMDQxOTkxMX0.SaV2grr8Ur_nKw0niKN0TT_eoqieGXMlI-Gce9OAc0k'}
2020-09-17 17:05:12,013 - GraphqlClient.py - send_request - DEBUG -{
  'input': {
    'name': 'SCADA',
    'permissions': [
      {
        'id': '27',
      },
    ],
  },
}

2020-09-17 17:05:12,134 - GraphqlClient.py - send_request - DEBUG -{
  'data': {
    'createRole': {
      '__typename': 'Role',
      'id': '89',
      'name': 'SCADA',
      'permissions': [
        {
          '__typename': 'Permission',
          'description': '使用SCADA入口',
          'id': '27',
          'scopes': [],
        },
      ],
    },
  },
  'errors': None,
}

2020-09-17 17:05:12,134 - GraphqlClient.py - send_request - DEBUG -http://192.168.1.175:8888/graphql/?createRole
2020-09-17 17:05:12,134 - GraphqlClient.py - send_request - DEBUG -{'Content-Type': 'application/json', 'authorization': 'Token eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJjcmVkZW50aWFscyI6eyJlbXBsb3llZV9pZCI6MSwiaXNfYWRtaW5fIjp0cnVlfSwidXNlciI6eyJpZCI6MSwiY29tcGFueV9pZCI6MSwibmFtZSI6Ilx1N2JhMVx1NzQwNlx1NTQ1OCIsImRlcGFydG1lbnRfaWQiOjEsImNvZGUiOm51bGwsInBob25lIjpudWxsLCJqb2IiOm51bGwsImVtYWlsIjpudWxsLCJhY2NvdW50IjoiYWRtaW4iLCJzdGF0dXMiOiJBQ1RJVkFURUQiLCJyb2xlcyI6bnVsbH0sImV4cCI6MTYwMDQxOTkxMX0.SaV2grr8Ur_nKw0niKN0TT_eoqieGXMlI-Gce9OAc0k'}
2020-09-17 17:05:12,135 - GraphqlClient.py - send_request - DEBUG -{
  'input': {
    'name': 'SCADA',
    'permissions': [
      {
        'id': '27',
      },
    ],
  },
}

2020-09-17 17:05:12,227 - GraphqlClient.py - send_request - DEBUG -{
  'data': {
    'createRole': {
      '__typename': 'Role',
      'id': '90',
      'name': 'SCADA',
      'permissions': [
        {
          '__typename': 'Permission',
          'description': '使用SCADA入口',
          'id': '27',
          'scopes': [],
        },
      ],
    },
  },
  'errors': None,
}

2020-09-17 17:05:12,229 - GraphqlClient.py - send_request - DEBUG -http://192.168.1.175:8888/graphql/?createEmployee
2020-09-17 17:05:12,230 - GraphqlClient.py - send_request - DEBUG -{'Content-Type': 'application/json', 'authorization': 'Token eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJjcmVkZW50aWFscyI6eyJlbXBsb3llZV9pZCI6MSwiaXNfYWRtaW5fIjp0cnVlfSwidXNlciI6eyJpZCI6MSwiY29tcGFueV9pZCI6MSwibmFtZSI6Ilx1N2JhMVx1NzQwNlx1NTQ1OCIsImRlcGFydG1lbnRfaWQiOjEsImNvZGUiOm51bGwsInBob25lIjpudWxsLCJqb2IiOm51bGwsImVtYWlsIjpudWxsLCJhY2NvdW50IjoiYWRtaW4iLCJzdGF0dXMiOiJBQ1RJVkFURUQiLCJyb2xlcyI6bnVsbH0sImV4cCI6MTYwMDQxOTkxMX0.SaV2grr8Ur_nKw0niKN0TT_eoqieGXMlI-Gce9OAc0k'}
2020-09-17 17:05:12,232 - GraphqlClient.py - send_request - DEBUG -{
  'input': {
    'account': 'admin1',
    'code': 'ifqxw',
    'department': {
      'id': 1,
    },
    'name': 'SCADA',
    'password': '123456',
    'phone': '123456',
    'roles': [
      {
        'id': '90',
      },
    ],
    'status': 'ACTIVATED',
  },
}

2020-09-17 17:05:13,416 - GraphqlClient.py - send_request - DEBUG -{
  'data': None,
  'errors': [
    {
      'locations': [
        {
          'column': 5,
          'line': 2,
        },
      ],
      'message': 'duplicate key value violates unique constraint
                  "uq_employees__account__company_id"\nDETAIL:  Key (account,
                  ...(1 hidden line)',
      'path': ['createEmployee'],
    },
  ],
}

2020-09-17 17:05:13,416 - test_permissions.py - TestPermission - DEBUG -'bool' object is not subscriptable
2020-09-17 17:05:13,416 - GraphqlClient.py - send_request - DEBUG -http://192.168.1.175:8888/graphql/?createRole
2020-09-17 17:05:13,416 - GraphqlClient.py - send_request - DEBUG -{'Content-Type': 'application/json', 'authorization': 'Token eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJjcmVkZW50aWFscyI6eyJlbXBsb3llZV9pZCI6MSwiaXNfYWRtaW5fIjp0cnVlfSwidXNlciI6eyJpZCI6MSwiY29tcGFueV9pZCI6MSwibmFtZSI6Ilx1N2JhMVx1NzQwNlx1NTQ1OCIsImRlcGFydG1lbnRfaWQiOjEsImNvZGUiOm51bGwsInBob25lIjpudWxsLCJqb2IiOm51bGwsImVtYWlsIjpudWxsLCJhY2NvdW50IjoiYWRtaW4iLCJzdGF0dXMiOiJBQ1RJVkFURUQiLCJyb2xlcyI6bnVsbH0sImV4cCI6MTYwMDQxOTkxMX0.SaV2grr8Ur_nKw0niKN0TT_eoqieGXMlI-Gce9OAc0k'}
2020-09-17 17:05:13,420 - GraphqlClient.py - send_request - DEBUG -{
  'input': {
    'name': '主设备管理',
    'permissions': [
      {
        'id': '2',
      },
      {
        'id': '3',
      },
    ],
  },
}

2020-09-17 17:05:13,504 - GraphqlClient.py - send_request - DEBUG -{
  'data': {
    'createRole': {
      '__typename': 'Role',
      'id': '91',
      'name': '主设备管理',
      'permissions': [
        {
          '__typename': 'Permission',
          'description': '查看主设备列表、详情',
          'id': '2',
          'scopes': ['/query/thing', '/query/things', '/query/thingByQrCode'],
        },
        {
          '__typename': 'Permission',
          'description': '编辑、导入、导出主设备详情',
          'id': '3',
          'scopes': ['/mutation/createThing',...(len=150),
        },
      ],
    },
  },
  'errors': None,
}

2020-09-17 17:05:13,504 - GraphqlClient.py - send_request - DEBUG -http://192.168.1.175:8888/graphql/?createRole
2020-09-17 17:05:13,504 - GraphqlClient.py - send_request - DEBUG -{'Content-Type': 'application/json', 'authorization': 'Token eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJjcmVkZW50aWFscyI6eyJlbXBsb3llZV9pZCI6MSwiaXNfYWRtaW5fIjp0cnVlfSwidXNlciI6eyJpZCI6MSwiY29tcGFueV9pZCI6MSwibmFtZSI6Ilx1N2JhMVx1NzQwNlx1NTQ1OCIsImRlcGFydG1lbnRfaWQiOjEsImNvZGUiOm51bGwsInBob25lIjpudWxsLCJqb2IiOm51bGwsImVtYWlsIjpudWxsLCJhY2NvdW50IjoiYWRtaW4iLCJzdGF0dXMiOiJBQ1RJVkFURUQiLCJyb2xlcyI6bnVsbH0sImV4cCI6MTYwMDQxOTkxMX0.SaV2grr8Ur_nKw0niKN0TT_eoqieGXMlI-Gce9OAc0k'}
2020-09-17 17:05:13,505 - GraphqlClient.py - send_request - DEBUG -{
  'input': {
    'name': '主设备管理',
    'permissions': [
      {
        'id': '2',
      },
      {
        'id': '3',
      },
    ],
  },
}

2020-09-17 17:05:13,602 - GraphqlClient.py - send_request - DEBUG -{
  'data': {
    'createRole': {
      '__typename': 'Role',
      'id': '92',
      'name': '主设备管理',
      'permissions': [
        {
          '__typename': 'Permission',
          'description': '查看主设备列表、详情',
          'id': '2',
          'scopes': ['/query/thing', '/query/things', '/query/thingByQrCode'],
        },
        {
          '__typename': 'Permission',
          'description': '编辑、导入、导出主设备详情',
          'id': '3',
          'scopes': ['/mutation/createThing',...(len=150),
        },
      ],
    },
  },
  'errors': None,
}

2020-09-17 17:05:13,602 - GraphqlClient.py - send_request - DEBUG -http://192.168.1.175:8888/graphql/?createEmployee
2020-09-17 17:05:13,602 - GraphqlClient.py - send_request - DEBUG -{'Content-Type': 'application/json', 'authorization': 'Token eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJjcmVkZW50aWFscyI6eyJlbXBsb3llZV9pZCI6MSwiaXNfYWRtaW5fIjp0cnVlfSwidXNlciI6eyJpZCI6MSwiY29tcGFueV9pZCI6MSwibmFtZSI6Ilx1N2JhMVx1NzQwNlx1NTQ1OCIsImRlcGFydG1lbnRfaWQiOjEsImNvZGUiOm51bGwsInBob25lIjpudWxsLCJqb2IiOm51bGwsImVtYWlsIjpudWxsLCJhY2NvdW50IjoiYWRtaW4iLCJzdGF0dXMiOiJBQ1RJVkFURUQiLCJyb2xlcyI6bnVsbH0sImV4cCI6MTYwMDQxOTkxMX0.SaV2grr8Ur_nKw0niKN0TT_eoqieGXMlI-Gce9OAc0k'}
2020-09-17 17:05:13,605 - GraphqlClient.py - send_request - DEBUG -{
  'input': {
    'account': 'admin2',
    'code': 'fyiaj',
    'department': {
      'id': 1,
    },
    'name': '主设备管理',
    'password': '123456',
    'phone': '123456',
    'roles': [
      {
        'id': '92',
      },
    ],
    'status': 'ACTIVATED',
  },
}

2020-09-17 17:05:13,832 - GraphqlClient.py - send_request - DEBUG -{
  'data': None,
  'errors': [
    {
      'locations': [
        {
          'column': 5,
          'line': 2,
        },
      ],
      'message': 'duplicate key value violates unique constraint
                  "uq_employees__account__company_id"\nDETAIL:  Key (account,
                  ...(1 hidden line)',
      'path': ['createEmployee'],
    },
  ],
}

2020-09-17 17:05:13,833 - test_permissions.py - TestPermission - DEBUG -'bool' object is not subscriptable
2020-09-17 17:05:13,833 - GraphqlClient.py - send_request - DEBUG -http://192.168.1.175:8888/graphql/?createRole
2020-09-17 17:05:13,833 - GraphqlClient.py - send_request - DEBUG -{'Content-Type': 'application/json', 'authorization': 'Token eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJjcmVkZW50aWFscyI6eyJlbXBsb3llZV9pZCI6MSwiaXNfYWRtaW5fIjp0cnVlfSwidXNlciI6eyJpZCI6MSwiY29tcGFueV9pZCI6MSwibmFtZSI6Ilx1N2JhMVx1NzQwNlx1NTQ1OCIsImRlcGFydG1lbnRfaWQiOjEsImNvZGUiOm51bGwsInBob25lIjpudWxsLCJqb2IiOm51bGwsImVtYWlsIjpudWxsLCJhY2NvdW50IjoiYWRtaW4iLCJzdGF0dXMiOiJBQ1RJVkFURUQiLCJyb2xlcyI6bnVsbH0sImV4cCI6MTYwMDQxOTkxMX0.SaV2grr8Ur_nKw0niKN0TT_eoqieGXMlI-Gce9OAc0k'}
2020-09-17 17:05:13,836 - GraphqlClient.py - send_request - DEBUG -{
  'input': {
    'name': '保养',
    'permissions': [
      {
        'id': '16',
      },
      {
        'id': '17',
      },
      {
        'id': '18',
      },
      {
        'id': '19',
      },
    ],
  },
}

2020-09-17 17:05:13,973 - GraphqlClient.py - send_request - DEBUG -{
  'data': {
    'createRole': {
      '__typename': 'Role',
      'id': '93',
      'name': '保养',
      'permissions': [
        {
          '__typename': 'Permission',
          'description': '查看保养方案',
          'id': '16',
          'scopes': ['/query/thingMaintenanceRule',...(len=63),
        },
        {
          '__typename': 'Permission',
          'description': '编辑保养方案',
          'id': '17',
          'scopes': ['/mutation/createThingMaintenanceRule',...(len=121),
        },
        {
          '__typename': 'Permission',
          'description': '查看、发起、审核保养单',
          'id': '18',
          'scopes': ['/query/thingMaintenance',...(len=203),
        },
        {
          '__typename': 'Permission',
          'description': '查看、发起、反馈保养单',
          'id': '19',
          'scopes': ['/query/thingMaintenance',...(len=205),
        },
      ],
    },
  },
  'errors': None,
}

2020-09-17 17:05:13,973 - GraphqlClient.py - send_request - DEBUG -http://192.168.1.175:8888/graphql/?createRole
2020-09-17 17:05:13,973 - GraphqlClient.py - send_request - DEBUG -{'Content-Type': 'application/json', 'authorization': 'Token eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJjcmVkZW50aWFscyI6eyJlbXBsb3llZV9pZCI6MSwiaXNfYWRtaW5fIjp0cnVlfSwidXNlciI6eyJpZCI6MSwiY29tcGFueV9pZCI6MSwibmFtZSI6Ilx1N2JhMVx1NzQwNlx1NTQ1OCIsImRlcGFydG1lbnRfaWQiOjEsImNvZGUiOm51bGwsInBob25lIjpudWxsLCJqb2IiOm51bGwsImVtYWlsIjpudWxsLCJhY2NvdW50IjoiYWRtaW4iLCJzdGF0dXMiOiJBQ1RJVkFURUQiLCJyb2xlcyI6bnVsbH0sImV4cCI6MTYwMDQxOTkxMX0.SaV2grr8Ur_nKw0niKN0TT_eoqieGXMlI-Gce9OAc0k'}
2020-09-17 17:05:13,975 - GraphqlClient.py - send_request - DEBUG -{
  'input': {
    'name': '保养',
    'permissions': [
      {
        'id': '16',
      },
      {
        'id': '17',
      },
      {
        'id': '18',
      },
      {
        'id': '19',
      },
    ],
  },
}

2020-09-17 17:05:14,068 - GraphqlClient.py - send_request - DEBUG -{
  'data': {
    'createRole': {
      '__typename': 'Role',
      'id': '94',
      'name': '保养',
      'permissions': [
        {
          '__typename': 'Permission',
          'description': '查看保养方案',
          'id': '16',
          'scopes': ['/query/thingMaintenanceRule',...(len=63),
        },
        {
          '__typename': 'Permission',
          'description': '编辑保养方案',
          'id': '17',
          'scopes': ['/mutation/createThingMaintenanceRule',...(len=121),
        },
        {
          '__typename': 'Permission',
          'description': '查看、发起、审核保养单',
          'id': '18',
          'scopes': ['/query/thingMaintenance',...(len=203),
        },
        {
          '__typename': 'Permission',
          'description': '查看、发起、反馈保养单',
          'id': '19',
          'scopes': ['/query/thingMaintenance',...(len=205),
        },
      ],
    },
  },
  'errors': None,
}

2020-09-17 17:05:14,068 - GraphqlClient.py - send_request - DEBUG -http://192.168.1.175:8888/graphql/?createEmployee
2020-09-17 17:05:14,068 - GraphqlClient.py - send_request - DEBUG -{'Content-Type': 'application/json', 'authorization': 'Token eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJjcmVkZW50aWFscyI6eyJlbXBsb3llZV9pZCI6MSwiaXNfYWRtaW5fIjp0cnVlfSwidXNlciI6eyJpZCI6MSwiY29tcGFueV9pZCI6MSwibmFtZSI6Ilx1N2JhMVx1NzQwNlx1NTQ1OCIsImRlcGFydG1lbnRfaWQiOjEsImNvZGUiOm51bGwsInBob25lIjpudWxsLCJqb2IiOm51bGwsImVtYWlsIjpudWxsLCJhY2NvdW50IjoiYWRtaW4iLCJzdGF0dXMiOiJBQ1RJVkFURUQiLCJyb2xlcyI6bnVsbH0sImV4cCI6MTYwMDQxOTkxMX0.SaV2grr8Ur_nKw0niKN0TT_eoqieGXMlI-Gce9OAc0k'}
2020-09-17 17:05:14,071 - GraphqlClient.py - send_request - DEBUG -{
  'input': {
    'account': 'admin3',
    'code': 'cjipu',
    'department': {
      'id': 1,
    },
    'name': '保养',
    'password': '123456',
    'phone': '123456',
    'roles': [
      {
        'id': '94',
      },
    ],
    'status': 'ACTIVATED',
  },
}

2020-09-17 17:05:14,319 - GraphqlClient.py - send_request - DEBUG -{
  'data': None,
  'errors': [
    {
      'locations': [
        {
          'column': 5,
          'line': 2,
        },
      ],
      'message': 'duplicate key value violates unique constraint
                  "uq_employees__account__company_id"\nDETAIL:  Key (account,
                  ...(1 hidden line)',
      'path': ['createEmployee'],
    },
  ],
}

2020-09-17 17:05:14,319 - test_permissions.py - TestPermission - DEBUG -'bool' object is not subscriptable
2020-09-17 17:05:14,319 - GraphqlClient.py - send_request - DEBUG -http://192.168.1.175:8888/graphql/?createRole
2020-09-17 17:05:14,319 - GraphqlClient.py - send_request - DEBUG -{'Content-Type': 'application/json', 'authorization': 'Token eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJjcmVkZW50aWFscyI6eyJlbXBsb3llZV9pZCI6MSwiaXNfYWRtaW5fIjp0cnVlfSwidXNlciI6eyJpZCI6MSwiY29tcGFueV9pZCI6MSwibmFtZSI6Ilx1N2JhMVx1NzQwNlx1NTQ1OCIsImRlcGFydG1lbnRfaWQiOjEsImNvZGUiOm51bGwsInBob25lIjpudWxsLCJqb2IiOm51bGwsImVtYWlsIjpudWxsLCJhY2NvdW50IjoiYWRtaW4iLCJzdGF0dXMiOiJBQ1RJVkFURUQiLCJyb2xlcyI6bnVsbH0sImV4cCI6MTYwMDQxOTkxMX0.SaV2grr8Ur_nKw0niKN0TT_eoqieGXMlI-Gce9OAc0k'}
2020-09-17 17:05:14,322 - GraphqlClient.py - send_request - DEBUG -{
  'input': {
    'name': '备件管理',
    'permissions': [
      {
        'id': '28',
      },
      {
        'id': '4',
      },
      {
        'id': '5',
      },
      {
        'id': '6',
      },
      {
        'id': '7',
      },
      {
        'id': '8',
      },
      {
        'id': '9',
      },
    ],
  },
}

2020-09-17 17:05:14,393 - GraphqlClient.py - send_request - DEBUG -{
  'data': {
    'createRole': {
      '__typename': 'Role',
      'id': '95',
      'name': '备件管理',
      'permissions': [
        {
          '__typename': 'Permission',
          'description': '查看备件列表、详情',
          'id': '4',
          'scopes': ['/query/sparePart', '/query/spareParts'],
        },
        {
          '__typename': 'Permission',
          'description': '编辑、导入、导出备件详情',
          'id': '5',
          'scopes': ['/mutation/createSparePart',...(len=174),
        },
        {
          '__typename': 'Permission',
          'description': '查看备件库存、入库记录、申领记录',
          'id': '6',
          'scopes': ['/query/sparePartStocks',...(len=263),
        },
        {
          '__typename': 'Permission',
          'description': '编辑仓库信息',
          'id': '7',
          'scopes': [],
        },
        {
          '__typename': 'Permission',
          'description': '发起备件入库',
          'id': '8',
          'scopes': ['/mutation/createSparePartReceipt',...(len=72),
        },
        {
          '__typename': 'Permission',
          'description': '发起备件申领',
          'id': '9',
          'scopes': ['/mutation/createSparePartOutbound',...(len=74),
        },
        {
          '__typename': 'Permission',
          'description': '审核备件申领单',
          'id': '28',
          'scopes': ['/mutation/updateSparePartOutboundStatus'],
        },
      ],
    },
  },
  'errors': None,
}

2020-09-17 17:05:14,394 - GraphqlClient.py - send_request - DEBUG -http://192.168.1.175:8888/graphql/?createRole
2020-09-17 17:05:14,394 - GraphqlClient.py - send_request - DEBUG -{'Content-Type': 'application/json', 'authorization': 'Token eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJjcmVkZW50aWFscyI6eyJlbXBsb3llZV9pZCI6MSwiaXNfYWRtaW5fIjp0cnVlfSwidXNlciI6eyJpZCI6MSwiY29tcGFueV9pZCI6MSwibmFtZSI6Ilx1N2JhMVx1NzQwNlx1NTQ1OCIsImRlcGFydG1lbnRfaWQiOjEsImNvZGUiOm51bGwsInBob25lIjpudWxsLCJqb2IiOm51bGwsImVtYWlsIjpudWxsLCJhY2NvdW50IjoiYWRtaW4iLCJzdGF0dXMiOiJBQ1RJVkFURUQiLCJyb2xlcyI6bnVsbH0sImV4cCI6MTYwMDQxOTkxMX0.SaV2grr8Ur_nKw0niKN0TT_eoqieGXMlI-Gce9OAc0k'}
2020-09-17 17:05:14,396 - GraphqlClient.py - send_request - DEBUG -{
  'input': {
    'name': '备件管理',
    'permissions': [
      {
        'id': '28',
      },
      {
        'id': '4',
      },
      {
        'id': '5',
      },
      {
        'id': '6',
      },
      {
        'id': '7',
      },
      {
        'id': '8',
      },
      {
        'id': '9',
      },
    ],
  },
}

2020-09-17 17:05:14,493 - GraphqlClient.py - send_request - DEBUG -{
  'data': {
    'createRole': {
      '__typename': 'Role',
      'id': '96',
      'name': '备件管理',
      'permissions': [
        {
          '__typename': 'Permission',
          'description': '查看备件列表、详情',
          'id': '4',
          'scopes': ['/query/sparePart', '/query/spareParts'],
        },
        {
          '__typename': 'Permission',
          'description': '编辑、导入、导出备件详情',
          'id': '5',
          'scopes': ['/mutation/createSparePart',...(len=174),
        },
        {
          '__typename': 'Permission',
          'description': '查看备件库存、入库记录、申领记录',
          'id': '6',
          'scopes': ['/query/sparePartStocks',...(len=263),
        },
        {
          '__typename': 'Permission',
          'description': '编辑仓库信息',
          'id': '7',
          'scopes': [],
        },
        {
          '__typename': 'Permission',
          'description': '发起备件入库',
          'id': '8',
          'scopes': ['/mutation/createSparePartReceipt',...(len=72),
        },
        {
          '__typename': 'Permission',
          'description': '发起备件申领',
          'id': '9',
          'scopes': ['/mutation/createSparePartOutbound',...(len=74),
        },
        {
          '__typename': 'Permission',
          'description': '审核备件申领单',
          'id': '28',
          'scopes': ['/mutation/updateSparePartOutboundStatus'],
        },
      ],
    },
  },
  'errors': None,
}

2020-09-17 17:05:14,494 - GraphqlClient.py - send_request - DEBUG -http://192.168.1.175:8888/graphql/?createEmployee
2020-09-17 17:05:14,494 - GraphqlClient.py - send_request - DEBUG -{'Content-Type': 'application/json', 'authorization': 'Token eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJjcmVkZW50aWFscyI6eyJlbXBsb3llZV9pZCI6MSwiaXNfYWRtaW5fIjp0cnVlfSwidXNlciI6eyJpZCI6MSwiY29tcGFueV9pZCI6MSwibmFtZSI6Ilx1N2JhMVx1NzQwNlx1NTQ1OCIsImRlcGFydG1lbnRfaWQiOjEsImNvZGUiOm51bGwsInBob25lIjpudWxsLCJqb2IiOm51bGwsImVtYWlsIjpudWxsLCJhY2NvdW50IjoiYWRtaW4iLCJzdGF0dXMiOiJBQ1RJVkFURUQiLCJyb2xlcyI6bnVsbH0sImV4cCI6MTYwMDQxOTkxMX0.SaV2grr8Ur_nKw0niKN0TT_eoqieGXMlI-Gce9OAc0k'}
2020-09-17 17:05:14,496 - GraphqlClient.py - send_request - DEBUG -{
  'input': {
    'account': 'admin4',
    'code': 'zmfwe',
    'department': {
      'id': 1,
    },
    'name': '备件管理',
    'password': '123456',
    'phone': '123456',
    'roles': [
      {
        'id': '96',
      },
    ],
    'status': 'ACTIVATED',
  },
}

2020-09-17 17:05:14,718 - GraphqlClient.py - send_request - DEBUG -{
  'data': None,
  'errors': [
    {
      'locations': [
        {
          'column': 5,
          'line': 2,
        },
      ],
      'message': 'duplicate key value violates unique constraint
                  "uq_employees__account__company_id"\nDETAIL:  Key (account,
                  ...(1 hidden line)',
      'path': ['createEmployee'],
    },
  ],
}

2020-09-17 17:05:14,718 - test_permissions.py - TestPermission - DEBUG -'bool' object is not subscriptable
2020-09-17 17:05:14,719 - GraphqlClient.py - send_request - DEBUG -http://192.168.1.175:8888/graphql/?createRole
2020-09-17 17:05:14,719 - GraphqlClient.py - send_request - DEBUG -{'Content-Type': 'application/json', 'authorization': 'Token eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJjcmVkZW50aWFscyI6eyJlbXBsb3llZV9pZCI6MSwiaXNfYWRtaW5fIjp0cnVlfSwidXNlciI6eyJpZCI6MSwiY29tcGFueV9pZCI6MSwibmFtZSI6Ilx1N2JhMVx1NzQwNlx1NTQ1OCIsImRlcGFydG1lbnRfaWQiOjEsImNvZGUiOm51bGwsInBob25lIjpudWxsLCJqb2IiOm51bGwsImVtYWlsIjpudWxsLCJhY2NvdW50IjoiYWRtaW4iLCJzdGF0dXMiOiJBQ1RJVkFURUQiLCJyb2xlcyI6bnVsbH0sImV4cCI6MTYwMDQxOTkxMX0.SaV2grr8Ur_nKw0niKN0TT_eoqieGXMlI-Gce9OAc0k'}
2020-09-17 17:05:14,722 - GraphqlClient.py - send_request - DEBUG -{
  'input': {
    'name': '巡检',
    'permissions': [
      {
        'id': '12',
      },
      {
        'id': '13',
      },
      {
        'id': '14',
      },
      {
        'id': '15',
      },
    ],
  },
}

2020-09-17 17:05:14,790 - GraphqlClient.py - send_request - DEBUG -{
  'data': {
    'createRole': {
      '__typename': 'Role',
      'id': '97',
      'name': '巡检',
      'permissions': [
        {
          '__typename': 'Permission',
          'description': '查看巡检方案',
          'id': '12',
          'scopes': ['/query/thingInspectionRule',...(len=61),
        },
        {
          '__typename': 'Permission',
          'description': '编辑巡检方案',
          'id': '13',
          'scopes': ['/mutation/createThingInspectionRule',...(len=113),
        },
        {
          '__typename': 'Permission',
          'description': '查看、发起、审核巡检单',
          'id': '14',
          'scopes': ['/mutation/createThingInspection',...(len=164),
        },
        {
          '__typename': 'Permission',
          'description': '查看、发起、反馈巡检单',
          'id': '15',
          'scopes': ['/mutation/createThingInspection',...(len=166),
        },
      ],
    },
  },
  'errors': None,
}

2020-09-17 17:05:14,790 - GraphqlClient.py - send_request - DEBUG -http://192.168.1.175:8888/graphql/?createRole
2020-09-17 17:05:14,790 - GraphqlClient.py - send_request - DEBUG -{'Content-Type': 'application/json', 'authorization': 'Token eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJjcmVkZW50aWFscyI6eyJlbXBsb3llZV9pZCI6MSwiaXNfYWRtaW5fIjp0cnVlfSwidXNlciI6eyJpZCI6MSwiY29tcGFueV9pZCI6MSwibmFtZSI6Ilx1N2JhMVx1NzQwNlx1NTQ1OCIsImRlcGFydG1lbnRfaWQiOjEsImNvZGUiOm51bGwsInBob25lIjpudWxsLCJqb2IiOm51bGwsImVtYWlsIjpudWxsLCJhY2NvdW50IjoiYWRtaW4iLCJzdGF0dXMiOiJBQ1RJVkFURUQiLCJyb2xlcyI6bnVsbH0sImV4cCI6MTYwMDQxOTkxMX0.SaV2grr8Ur_nKw0niKN0TT_eoqieGXMlI-Gce9OAc0k'}
2020-09-17 17:05:14,792 - GraphqlClient.py - send_request - DEBUG -{
  'input': {
    'name': '巡检',
    'permissions': [
      {
        'id': '12',
      },
      {
        'id': '13',
      },
      {
        'id': '14',
      },
      {
        'id': '15',
      },
    ],
  },
}

2020-09-17 17:05:15,046 - GraphqlClient.py - send_request - DEBUG -{
  'data': {
    'createRole': {
      '__typename': 'Role',
      'id': '98',
      'name': '巡检',
      'permissions': [
        {
          '__typename': 'Permission',
          'description': '查看巡检方案',
          'id': '12',
          'scopes': ['/query/thingInspectionRule',...(len=61),
        },
        {
          '__typename': 'Permission',
          'description': '编辑巡检方案',
          'id': '13',
          'scopes': ['/mutation/createThingInspectionRule',...(len=113),
        },
        {
          '__typename': 'Permission',
          'description': '查看、发起、审核巡检单',
          'id': '14',
          'scopes': ['/mutation/createThingInspection',...(len=164),
        },
        {
          '__typename': 'Permission',
          'description': '查看、发起、反馈巡检单',
          'id': '15',
          'scopes': ['/mutation/createThingInspection',...(len=166),
        },
      ],
    },
  },
  'errors': None,
}

2020-09-17 17:05:15,047 - GraphqlClient.py - send_request - DEBUG -http://192.168.1.175:8888/graphql/?createEmployee
2020-09-17 17:05:15,047 - GraphqlClient.py - send_request - DEBUG -{'Content-Type': 'application/json', 'authorization': 'Token eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJjcmVkZW50aWFscyI6eyJlbXBsb3llZV9pZCI6MSwiaXNfYWRtaW5fIjp0cnVlfSwidXNlciI6eyJpZCI6MSwiY29tcGFueV9pZCI6MSwibmFtZSI6Ilx1N2JhMVx1NzQwNlx1NTQ1OCIsImRlcGFydG1lbnRfaWQiOjEsImNvZGUiOm51bGwsInBob25lIjpudWxsLCJqb2IiOm51bGwsImVtYWlsIjpudWxsLCJhY2NvdW50IjoiYWRtaW4iLCJzdGF0dXMiOiJBQ1RJVkFURUQiLCJyb2xlcyI6bnVsbH0sImV4cCI6MTYwMDQxOTkxMX0.SaV2grr8Ur_nKw0niKN0TT_eoqieGXMlI-Gce9OAc0k'}
2020-09-17 17:05:15,049 - GraphqlClient.py - send_request - DEBUG -{
  'input': {
    'account': 'admin5',
    'code': 'qnrkq',
    'department': {
      'id': 1,
    },
    'name': '巡检',
    'password': '123456',
    'phone': '123456',
    'roles': [
      {
        'id': '98',
      },
    ],
    'status': 'ACTIVATED',
  },
}

2020-09-17 17:05:16,843 - GraphqlClient.py - send_request - DEBUG -{
  'data': None,
  'errors': [
    {
      'locations': [
        {
          'column': 5,
          'line': 2,
        },
      ],
      'message': 'duplicate key value violates unique constraint
                  "uq_employees__account__company_id"\nDETAIL:  Key (account,
                  ...(1 hidden line)',
      'path': ['createEmployee'],
    },
  ],
}

2020-09-17 17:05:16,844 - test_permissions.py - TestPermission - DEBUG -'bool' object is not subscriptable
2020-09-17 17:05:16,844 - GraphqlClient.py - send_request - DEBUG -http://192.168.1.175:8888/graphql/?createRole
2020-09-17 17:05:16,844 - GraphqlClient.py - send_request - DEBUG -{'Content-Type': 'application/json', 'authorization': 'Token eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJjcmVkZW50aWFscyI6eyJlbXBsb3llZV9pZCI6MSwiaXNfYWRtaW5fIjp0cnVlfSwidXNlciI6eyJpZCI6MSwiY29tcGFueV9pZCI6MSwibmFtZSI6Ilx1N2JhMVx1NzQwNlx1NTQ1OCIsImRlcGFydG1lbnRfaWQiOjEsImNvZGUiOm51bGwsInBob25lIjpudWxsLCJqb2IiOm51bGwsImVtYWlsIjpudWxsLCJhY2NvdW50IjoiYWRtaW4iLCJzdGF0dXMiOiJBQ1RJVkFURUQiLCJyb2xlcyI6bnVsbH0sImV4cCI6MTYwMDQxOTkxMX0.SaV2grr8Ur_nKw0niKN0TT_eoqieGXMlI-Gce9OAc0k'}
2020-09-17 17:05:16,845 - GraphqlClient.py - send_request - DEBUG -{
  'input': {
    'name': '概览（报表）',
    'permissions': [
      {
        'id': '26',
      },
    ],
  },
}

2020-09-17 17:05:17,287 - GraphqlClient.py - send_request - DEBUG -{
  'data': {
    'createRole': {
      '__typename': 'Role',
      'id': '99',
      'name': '概览（报表）',
      'permissions': [
        {
          '__typename': 'Permission',
          'description': '查看所有报表',
          'id': '26',
          'scopes': ['/query/thingOverview', '/query/thingSummary',...(len=96),
        },
      ],
    },
  },
  'errors': None,
}

2020-09-17 17:05:17,287 - GraphqlClient.py - send_request - DEBUG -http://192.168.1.175:8888/graphql/?createRole
2020-09-17 17:05:17,288 - GraphqlClient.py - send_request - DEBUG -{'Content-Type': 'application/json', 'authorization': 'Token eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJjcmVkZW50aWFscyI6eyJlbXBsb3llZV9pZCI6MSwiaXNfYWRtaW5fIjp0cnVlfSwidXNlciI6eyJpZCI6MSwiY29tcGFueV9pZCI6MSwibmFtZSI6Ilx1N2JhMVx1NzQwNlx1NTQ1OCIsImRlcGFydG1lbnRfaWQiOjEsImNvZGUiOm51bGwsInBob25lIjpudWxsLCJqb2IiOm51bGwsImVtYWlsIjpudWxsLCJhY2NvdW50IjoiYWRtaW4iLCJzdGF0dXMiOiJBQ1RJVkFURUQiLCJyb2xlcyI6bnVsbH0sImV4cCI6MTYwMDQxOTkxMX0.SaV2grr8Ur_nKw0niKN0TT_eoqieGXMlI-Gce9OAc0k'}
2020-09-17 17:05:17,289 - GraphqlClient.py - send_request - DEBUG -{
  'input': {
    'name': '概览（报表）',
    'permissions': [
      {
        'id': '26',
      },
    ],
  },
}

2020-09-17 17:05:17,343 - GraphqlClient.py - send_request - DEBUG -{
  'data': {
    'createRole': {
      '__typename': 'Role',
      'id': '100',
      'name': '概览（报表）',
      'permissions': [
        {
          '__typename': 'Permission',
          'description': '查看所有报表',
          'id': '26',
          'scopes': ['/query/thingOverview', '/query/thingSummary',...(len=96),
        },
      ],
    },
  },
  'errors': None,
}

2020-09-17 17:05:17,344 - GraphqlClient.py - send_request - DEBUG -http://192.168.1.175:8888/graphql/?createEmployee
2020-09-17 17:05:17,344 - GraphqlClient.py - send_request - DEBUG -{'Content-Type': 'application/json', 'authorization': 'Token eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJjcmVkZW50aWFscyI6eyJlbXBsb3llZV9pZCI6MSwiaXNfYWRtaW5fIjp0cnVlfSwidXNlciI6eyJpZCI6MSwiY29tcGFueV9pZCI6MSwibmFtZSI6Ilx1N2JhMVx1NzQwNlx1NTQ1OCIsImRlcGFydG1lbnRfaWQiOjEsImNvZGUiOm51bGwsInBob25lIjpudWxsLCJqb2IiOm51bGwsImVtYWlsIjpudWxsLCJhY2NvdW50IjoiYWRtaW4iLCJzdGF0dXMiOiJBQ1RJVkFURUQiLCJyb2xlcyI6bnVsbH0sImV4cCI6MTYwMDQxOTkxMX0.SaV2grr8Ur_nKw0niKN0TT_eoqieGXMlI-Gce9OAc0k'}
2020-09-17 17:05:17,348 - GraphqlClient.py - send_request - DEBUG -{
  'input': {
    'account': 'admin6',
    'code': 'rjhuz',
    'department': {
      'id': 1,
    },
    'name': '概览（报表）',
    'password': '123456',
    'phone': '123456',
    'roles': [
      {
        'id': '100',
      },
    ],
    'status': 'ACTIVATED',
  },
}

2020-09-17 17:05:17,952 - GraphqlClient.py - send_request - DEBUG -{
  'data': None,
  'errors': [
    {
      'locations': [
        {
          'column': 5,
          'line': 2,
        },
      ],
      'message': 'duplicate key value violates unique constraint
                  "uq_employees__account__company_id"\nDETAIL:  Key (account,
                  ...(1 hidden line)',
      'path': ['createEmployee'],
    },
  ],
}

2020-09-17 17:05:17,953 - test_permissions.py - TestPermission - DEBUG -'bool' object is not subscriptable
2020-09-17 17:05:17,953 - GraphqlClient.py - send_request - DEBUG -http://192.168.1.175:8888/graphql/?createRole
2020-09-17 17:05:17,953 - GraphqlClient.py - send_request - DEBUG -{'Content-Type': 'application/json', 'authorization': 'Token eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJjcmVkZW50aWFscyI6eyJlbXBsb3llZV9pZCI6MSwiaXNfYWRtaW5fIjp0cnVlfSwidXNlciI6eyJpZCI6MSwiY29tcGFueV9pZCI6MSwibmFtZSI6Ilx1N2JhMVx1NzQwNlx1NTQ1OCIsImRlcGFydG1lbnRfaWQiOjEsImNvZGUiOm51bGwsInBob25lIjpudWxsLCJqb2IiOm51bGwsImVtYWlsIjpudWxsLCJhY2NvdW50IjoiYWRtaW4iLCJzdGF0dXMiOiJBQ1RJVkFURUQiLCJyb2xlcyI6bnVsbH0sImV4cCI6MTYwMDQxOTkxMX0.SaV2grr8Ur_nKw0niKN0TT_eoqieGXMlI-Gce9OAc0k'}
2020-09-17 17:05:17,955 - GraphqlClient.py - send_request - DEBUG -{
  'input': {
    'name': '维修',
    'permissions': [
      {
        'id': '10',
      },
      {
        'id': '11',
      },
    ],
  },
}

2020-09-17 17:05:18,616 - GraphqlClient.py - send_request - DEBUG -{
  'data': {
    'createRole': {
      '__typename': 'Role',
      'id': '101',
      'name': '维修',
      'permissions': [
        {
          '__typename': 'Permission',
          'description': '查看、发起、审核维修单',
          'id': '10',
          'scopes': ['/query/thingRepairs', '/query/thingRepair',...(len=176),
        },
        {
          '__typename': 'Permission',
          'description': '查看、发起、反馈维修单',
          'id': '11',
          'scopes': ['/query/thingRepairs', '/query/thingRepair',...(len=178),
        },
      ],
    },
  },
  'errors': None,
}

2020-09-17 17:05:18,617 - GraphqlClient.py - send_request - DEBUG -http://192.168.1.175:8888/graphql/?createRole
2020-09-17 17:05:18,617 - GraphqlClient.py - send_request - DEBUG -{'Content-Type': 'application/json', 'authorization': 'Token eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJjcmVkZW50aWFscyI6eyJlbXBsb3llZV9pZCI6MSwiaXNfYWRtaW5fIjp0cnVlfSwidXNlciI6eyJpZCI6MSwiY29tcGFueV9pZCI6MSwibmFtZSI6Ilx1N2JhMVx1NzQwNlx1NTQ1OCIsImRlcGFydG1lbnRfaWQiOjEsImNvZGUiOm51bGwsInBob25lIjpudWxsLCJqb2IiOm51bGwsImVtYWlsIjpudWxsLCJhY2NvdW50IjoiYWRtaW4iLCJzdGF0dXMiOiJBQ1RJVkFURUQiLCJyb2xlcyI6bnVsbH0sImV4cCI6MTYwMDQxOTkxMX0.SaV2grr8Ur_nKw0niKN0TT_eoqieGXMlI-Gce9OAc0k'}
2020-09-17 17:05:18,618 - GraphqlClient.py - send_request - DEBUG -{
  'input': {
    'name': '维修',
    'permissions': [
      {
        'id': '10',
      },
      {
        'id': '11',
      },
    ],
  },
}

2020-09-17 17:05:18,805 - GraphqlClient.py - send_request - DEBUG -{
  'data': {
    'createRole': {
      '__typename': 'Role',
      'id': '102',
      'name': '维修',
      'permissions': [
        {
          '__typename': 'Permission',
          'description': '查看、发起、审核维修单',
          'id': '10',
          'scopes': ['/query/thingRepairs', '/query/thingRepair',...(len=176),
        },
        {
          '__typename': 'Permission',
          'description': '查看、发起、反馈维修单',
          'id': '11',
          'scopes': ['/query/thingRepairs', '/query/thingRepair',...(len=178),
        },
      ],
    },
  },
  'errors': None,
}

2020-09-17 17:05:18,805 - GraphqlClient.py - send_request - DEBUG -http://192.168.1.175:8888/graphql/?createEmployee
2020-09-17 17:05:18,805 - GraphqlClient.py - send_request - DEBUG -{'Content-Type': 'application/json', 'authorization': 'Token eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJjcmVkZW50aWFscyI6eyJlbXBsb3llZV9pZCI6MSwiaXNfYWRtaW5fIjp0cnVlfSwidXNlciI6eyJpZCI6MSwiY29tcGFueV9pZCI6MSwibmFtZSI6Ilx1N2JhMVx1NzQwNlx1NTQ1OCIsImRlcGFydG1lbnRfaWQiOjEsImNvZGUiOm51bGwsInBob25lIjpudWxsLCJqb2IiOm51bGwsImVtYWlsIjpudWxsLCJhY2NvdW50IjoiYWRtaW4iLCJzdGF0dXMiOiJBQ1RJVkFURUQiLCJyb2xlcyI6bnVsbH0sImV4cCI6MTYwMDQxOTkxMX0.SaV2grr8Ur_nKw0niKN0TT_eoqieGXMlI-Gce9OAc0k'}
2020-09-17 17:05:18,807 - GraphqlClient.py - send_request - DEBUG -{
  'input': {
    'account': 'admin7',
    'code': 'whehx',
    'department': {
      'id': 1,
    },
    'name': '维修',
    'password': '123456',
    'phone': '123456',
    'roles': [
      {
        'id': '102',
      },
    ],
    'status': 'ACTIVATED',
  },
}

2020-09-17 17:05:20,834 - GraphqlClient.py - send_request - DEBUG -{
  'data': None,
  'errors': [
    {
      'locations': [
        {
          'column': 5,
          'line': 2,
        },
      ],
      'message': 'duplicate key value violates unique constraint
                  "uq_employees__account__company_id"\nDETAIL:  Key (account,
                  ...(1 hidden line)',
      'path': ['createEmployee'],
    },
  ],
}

2020-09-17 17:05:20,835 - test_permissions.py - TestPermission - DEBUG -'bool' object is not subscriptable
2020-09-17 17:05:20,837 - GraphqlClient.py - send_request - DEBUG -http://192.168.1.175:8888/graphql/?createRole
2020-09-17 17:05:20,837 - GraphqlClient.py - send_request - DEBUG -{'Content-Type': 'application/json', 'authorization': 'Token eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJjcmVkZW50aWFscyI6eyJlbXBsb3llZV9pZCI6MSwiaXNfYWRtaW5fIjp0cnVlfSwidXNlciI6eyJpZCI6MSwiY29tcGFueV9pZCI6MSwibmFtZSI6Ilx1N2JhMVx1NzQwNlx1NTQ1OCIsImRlcGFydG1lbnRfaWQiOjEsImNvZGUiOm51bGwsInBob25lIjpudWxsLCJqb2IiOm51bGwsImVtYWlsIjpudWxsLCJhY2NvdW50IjoiYWRtaW4iLCJzdGF0dXMiOiJBQ1RJVkFURUQiLCJyb2xlcyI6bnVsbH0sImV4cCI6MTYwMDQxOTkxMX0.SaV2grr8Ur_nKw0niKN0TT_eoqieGXMlI-Gce9OAc0k'}
2020-09-17 17:05:20,840 - GraphqlClient.py - send_request - DEBUG -{
  'input': {
    'name': '设置',
    'permissions': [
      {
        'id': '20',
      },
      {
        'id': '21',
      },
      {
        'id': '22',
      },
      {
        'id': '23',
      },
      {
        'id': '24',
      },
      {
        'id': '25',
      },
    ],
  },
}

2020-09-17 17:05:21,244 - GraphqlClient.py - send_request - DEBUG -{
  'data': {
    'createRole': {
      '__typename': 'Role',
      'id': '103',
      'name': '设置',
      'permissions': [
        {
          '__typename': 'Permission',
          'description': '自定义表单',
          'id': '20',
          'scopes': ['/mutation/updateFormStruct'],
        },
        {
          '__typename': 'Permission',
          'description': '查看隐藏字段',
          'id': '21',
          'scopes': [],
        },
        {
          '__typename': 'Permission',
          'description': '查看组织架构及人员',
          'id': '22',
          'scopes': ['/query/departments', '/query/employees'],
        },
        {
          '__typename': 'Permission',
          'description': '编辑组织架构及人员',
          'id': '23',
          'scopes': ['/mutation/createDepartment',...(len=220),
        },
        {
          '__typename': 'Permission',
          'description': '查看角色权限',
          'id': '24',
          'scopes': ['/query/permissionTable', '/query/roles'],
        },
        {
          '__typename': 'Permission',
          'description': '编辑角色权限',
          'id': '25',
          'scopes': ['/mutation/updateEmployee'],
        },
      ],
    },
  },
  'errors': None,
}

2020-09-17 17:05:21,244 - GraphqlClient.py - send_request - DEBUG -http://192.168.1.175:8888/graphql/?createRole
2020-09-17 17:05:21,244 - GraphqlClient.py - send_request - DEBUG -{'Content-Type': 'application/json', 'authorization': 'Token eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJjcmVkZW50aWFscyI6eyJlbXBsb3llZV9pZCI6MSwiaXNfYWRtaW5fIjp0cnVlfSwidXNlciI6eyJpZCI6MSwiY29tcGFueV9pZCI6MSwibmFtZSI6Ilx1N2JhMVx1NzQwNlx1NTQ1OCIsImRlcGFydG1lbnRfaWQiOjEsImNvZGUiOm51bGwsInBob25lIjpudWxsLCJqb2IiOm51bGwsImVtYWlsIjpudWxsLCJhY2NvdW50IjoiYWRtaW4iLCJzdGF0dXMiOiJBQ1RJVkFURUQiLCJyb2xlcyI6bnVsbH0sImV4cCI6MTYwMDQxOTkxMX0.SaV2grr8Ur_nKw0niKN0TT_eoqieGXMlI-Gce9OAc0k'}
2020-09-17 17:05:21,246 - GraphqlClient.py - send_request - DEBUG -{
  'input': {
    'name': '设置',
    'permissions': [
      {
        'id': '20',
      },
      {
        'id': '21',
      },
      {
        'id': '22',
      },
      {
        'id': '23',
      },
      {
        'id': '24',
      },
      {
        'id': '25',
      },
    ],
  },
}

2020-09-17 17:05:21,377 - GraphqlClient.py - send_request - DEBUG -{
  'data': {
    'createRole': {
      '__typename': 'Role',
      'id': '104',
      'name': '设置',
      'permissions': [
        {
          '__typename': 'Permission',
          'description': '自定义表单',
          'id': '20',
          'scopes': ['/mutation/updateFormStruct'],
        },
        {
          '__typename': 'Permission',
          'description': '查看隐藏字段',
          'id': '21',
          'scopes': [],
        },
        {
          '__typename': 'Permission',
          'description': '查看组织架构及人员',
          'id': '22',
          'scopes': ['/query/departments', '/query/employees'],
        },
        {
          '__typename': 'Permission',
          'description': '编辑组织架构及人员',
          'id': '23',
          'scopes': ['/mutation/createDepartment',...(len=220),
        },
        {
          '__typename': 'Permission',
          'description': '查看角色权限',
          'id': '24',
          'scopes': ['/query/permissionTable', '/query/roles'],
        },
        {
          '__typename': 'Permission',
          'description': '编辑角色权限',
          'id': '25',
          'scopes': ['/mutation/updateEmployee'],
        },
      ],
    },
  },
  'errors': None,
}

2020-09-17 17:05:21,377 - GraphqlClient.py - send_request - DEBUG -http://192.168.1.175:8888/graphql/?createEmployee
2020-09-17 17:05:21,377 - GraphqlClient.py - send_request - DEBUG -{'Content-Type': 'application/json', 'authorization': 'Token eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJjcmVkZW50aWFscyI6eyJlbXBsb3llZV9pZCI6MSwiaXNfYWRtaW5fIjp0cnVlfSwidXNlciI6eyJpZCI6MSwiY29tcGFueV9pZCI6MSwibmFtZSI6Ilx1N2JhMVx1NzQwNlx1NTQ1OCIsImRlcGFydG1lbnRfaWQiOjEsImNvZGUiOm51bGwsInBob25lIjpudWxsLCJqb2IiOm51bGwsImVtYWlsIjpudWxsLCJhY2NvdW50IjoiYWRtaW4iLCJzdGF0dXMiOiJBQ1RJVkFURUQiLCJyb2xlcyI6bnVsbH0sImV4cCI6MTYwMDQxOTkxMX0.SaV2grr8Ur_nKw0niKN0TT_eoqieGXMlI-Gce9OAc0k'}
2020-09-17 17:05:21,380 - GraphqlClient.py - send_request - DEBUG -{
  'input': {
    'account': 'admin8',
    'code': 'jocxm',
    'department': {
      'id': 1,
    },
    'name': '设置',
    'password': '123456',
    'phone': '123456',
    'roles': [
      {
        'id': '104',
      },
    ],
    'status': 'ACTIVATED',
  },
}

2020-09-17 17:05:21,593 - GraphqlClient.py - send_request - DEBUG -{
  'data': None,
  'errors': [
    {
      'locations': [
        {
          'column': 5,
          'line': 2,
        },
      ],
      'message': 'duplicate key value violates unique constraint
                  "uq_employees__account__company_id"\nDETAIL:  Key (account,
                  ...(1 hidden line)',
      'path': ['createEmployee'],
    },
  ],
}

2020-09-17 17:05:21,593 - test_permissions.py - TestPermission - DEBUG -'bool' object is not subscriptable
2020-09-17 17:05:22,152 - GraphqlClient.py - send_request - DEBUG -http://192.168.1.175:8888/graphql/?permissionTable
2020-09-17 17:05:22,152 - GraphqlClient.py - send_request - DEBUG -{'Content-Type': 'application/json', 'authorization': 'Token eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJjcmVkZW50aWFscyI6eyJlbXBsb3llZV9pZCI6MSwiaXNfYWRtaW5fIjp0cnVlfSwidXNlciI6eyJpZCI6MSwiY29tcGFueV9pZCI6MSwibmFtZSI6Ilx1N2JhMVx1NzQwNlx1NTQ1OCIsImRlcGFydG1lbnRfaWQiOjEsImNvZGUiOm51bGwsInBob25lIjpudWxsLCJqb2IiOm51bGwsImVtYWlsIjpudWxsLCJhY2NvdW50IjoiYWRtaW4iLCJzdGF0dXMiOiJBQ1RJVkFURUQiLCJyb2xlcyI6bnVsbH0sImV4cCI6MTYwMDQxOTkxMX0.SaV2grr8Ur_nKw0niKN0TT_eoqieGXMlI-Gce9OAc0k'}
2020-09-17 17:05:22,152 - GraphqlClient.py - send_request - DEBUG -{
}

2020-09-17 17:05:22,365 - GraphqlClient.py - send_request - DEBUG -{
  'data': {
    'permissionTable': {
      '__typename': 'PermissionTable',
      'admin': {
        '__typename': 'Permission',
        'description': '所有数据权限，可管理全部信息',
        'id': '1',
        'scopes': [],
      },
      'modules': [
        {
          '__typename': 'PermissionModule',
          'name': 'SCADA',
          'permissions': [{'id': '27', 'scopes': [], 'description':...(len=88),
        },
        {
          '__typename': 'PermissionModule',
          'name': '主设备管理',
          'permissions': [{'id': '2', 'scopes': ['/query/thing',...(len=397),
        },
        {
          '__typename': 'PermissionModule',
          'name': '保养',
          'permissions': [{'id': '16', 'scopes':...(len=952),
        },
        {
          '__typename': 'PermissionModule',
          'name': '备件管理',
          'permissions': [{'id': '28', 'scopes': ['/mutation/updat...(len=1298),
        },
        {
          '__typename': 'PermissionModule',
          'name': '巡检',
          'permissions': [{'id': '12', 'scopes':...(len=864),
        },
        {
          '__typename': 'PermissionModule',
          'name': '概览（报表）',
          'permissions': [{'id': '26', 'scopes':...(len=181),
        },
        {
          '__typename': 'PermissionModule',
          'name': '维修',
          'permissions': [{'id': '10', 'scopes':...(len=544),
        },
        {
          '__typename': 'PermissionModule',
          'name': '设置',
          'permissions': [{'id': '20', 'scopes':...(len=884),
        },
      ],
    },
  },
  'errors': None,
}

2020-09-17 17:05:22,366 - GraphqlClient.py - send_request - DEBUG -http://192.168.1.175:8888/graphql/?createRole
2020-09-17 17:05:22,366 - GraphqlClient.py - send_request - DEBUG -{'Content-Type': 'application/json', 'authorization': 'Token eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJjcmVkZW50aWFscyI6eyJlbXBsb3llZV9pZCI6MSwiaXNfYWRtaW5fIjp0cnVlfSwidXNlciI6eyJpZCI6MSwiY29tcGFueV9pZCI6MSwibmFtZSI6Ilx1N2JhMVx1NzQwNlx1NTQ1OCIsImRlcGFydG1lbnRfaWQiOjEsImNvZGUiOm51bGwsInBob25lIjpudWxsLCJqb2IiOm51bGwsImVtYWlsIjpudWxsLCJhY2NvdW50IjoiYWRtaW4iLCJzdGF0dXMiOiJBQ1RJVkFURUQiLCJyb2xlcyI6bnVsbH0sImV4cCI6MTYwMDQxOTkxMX0.SaV2grr8Ur_nKw0niKN0TT_eoqieGXMlI-Gce9OAc0k'}
2020-09-17 17:05:22,368 - GraphqlClient.py - send_request - DEBUG -{
  'input': {
    'name': 'SCADA',
    'permissions': [
      {
        'id': '27',
      },
    ],
  },
}

2020-09-17 17:05:22,494 - GraphqlClient.py - send_request - DEBUG -{
  'data': {
    'createRole': {
      '__typename': 'Role',
      'id': '105',
      'name': 'SCADA',
      'permissions': [
        {
          '__typename': 'Permission',
          'description': '使用SCADA入口',
          'id': '27',
          'scopes': [],
        },
      ],
    },
  },
  'errors': None,
}

2020-09-17 17:05:22,494 - GraphqlClient.py - send_request - DEBUG -http://192.168.1.175:8888/graphql/?createRole
2020-09-17 17:05:22,494 - GraphqlClient.py - send_request - DEBUG -{'Content-Type': 'application/json', 'authorization': 'Token eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJjcmVkZW50aWFscyI6eyJlbXBsb3llZV9pZCI6MSwiaXNfYWRtaW5fIjp0cnVlfSwidXNlciI6eyJpZCI6MSwiY29tcGFueV9pZCI6MSwibmFtZSI6Ilx1N2JhMVx1NzQwNlx1NTQ1OCIsImRlcGFydG1lbnRfaWQiOjEsImNvZGUiOm51bGwsInBob25lIjpudWxsLCJqb2IiOm51bGwsImVtYWlsIjpudWxsLCJhY2NvdW50IjoiYWRtaW4iLCJzdGF0dXMiOiJBQ1RJVkFURUQiLCJyb2xlcyI6bnVsbH0sImV4cCI6MTYwMDQxOTkxMX0.SaV2grr8Ur_nKw0niKN0TT_eoqieGXMlI-Gce9OAc0k'}
2020-09-17 17:05:22,495 - GraphqlClient.py - send_request - DEBUG -{
  'input': {
    'name': 'SCADA',
    'permissions': [
      {
        'id': '27',
      },
    ],
  },
}

2020-09-17 17:05:22,690 - GraphqlClient.py - send_request - DEBUG -{
  'data': {
    'createRole': {
      '__typename': 'Role',
      'id': '106',
      'name': 'SCADA',
      'permissions': [
        {
          '__typename': 'Permission',
          'description': '使用SCADA入口',
          'id': '27',
          'scopes': [],
        },
      ],
    },
  },
  'errors': None,
}

2020-09-17 17:05:22,691 - GraphqlClient.py - send_request - DEBUG -http://192.168.1.175:8888/graphql/?createEmployee
2020-09-17 17:05:22,691 - GraphqlClient.py - send_request - DEBUG -{'Content-Type': 'application/json', 'authorization': 'Token eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJjcmVkZW50aWFscyI6eyJlbXBsb3llZV9pZCI6MSwiaXNfYWRtaW5fIjp0cnVlfSwidXNlciI6eyJpZCI6MSwiY29tcGFueV9pZCI6MSwibmFtZSI6Ilx1N2JhMVx1NzQwNlx1NTQ1OCIsImRlcGFydG1lbnRfaWQiOjEsImNvZGUiOm51bGwsInBob25lIjpudWxsLCJqb2IiOm51bGwsImVtYWlsIjpudWxsLCJhY2NvdW50IjoiYWRtaW4iLCJzdGF0dXMiOiJBQ1RJVkFURUQiLCJyb2xlcyI6bnVsbH0sImV4cCI6MTYwMDQxOTkxMX0.SaV2grr8Ur_nKw0niKN0TT_eoqieGXMlI-Gce9OAc0k'}
2020-09-17 17:05:22,695 - GraphqlClient.py - send_request - DEBUG -{
  'input': {
    'account': 'admin1',
    'code': 'vlznh',
    'department': {
      'id': 1,
    },
    'name': 'SCADA',
    'password': '123456',
    'phone': '123456',
    'roles': [
      {
        'id': '106',
      },
    ],
    'status': 'ACTIVATED',
  },
}

2020-09-17 17:05:24,933 - GraphqlClient.py - send_request - DEBUG -{
  'data': None,
  'errors': [
    {
      'locations': [
        {
          'column': 5,
          'line': 2,
        },
      ],
      'message': 'duplicate key value violates unique constraint
                  "uq_employees__account__company_id"\nDETAIL:  Key (account,
                  ...(1 hidden line)',
      'path': ['createEmployee'],
    },
  ],
}

2020-09-17 17:05:24,934 - test_permissions.py - TestPermission - DEBUG -'bool' object is not subscriptable
2020-09-17 17:05:24,934 - GraphqlClient.py - send_request - DEBUG -http://192.168.1.175:8888/graphql/?createRole
2020-09-17 17:05:24,934 - GraphqlClient.py - send_request - DEBUG -{'Content-Type': 'application/json', 'authorization': 'Token eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJjcmVkZW50aWFscyI6eyJlbXBsb3llZV9pZCI6MSwiaXNfYWRtaW5fIjp0cnVlfSwidXNlciI6eyJpZCI6MSwiY29tcGFueV9pZCI6MSwibmFtZSI6Ilx1N2JhMVx1NzQwNlx1NTQ1OCIsImRlcGFydG1lbnRfaWQiOjEsImNvZGUiOm51bGwsInBob25lIjpudWxsLCJqb2IiOm51bGwsImVtYWlsIjpudWxsLCJhY2NvdW50IjoiYWRtaW4iLCJzdGF0dXMiOiJBQ1RJVkFURUQiLCJyb2xlcyI6bnVsbH0sImV4cCI6MTYwMDQxOTkxMX0.SaV2grr8Ur_nKw0niKN0TT_eoqieGXMlI-Gce9OAc0k'}
2020-09-17 17:05:24,936 - GraphqlClient.py - send_request - DEBUG -{
  'input': {
    'name': '主设备管理',
    'permissions': [
      {
        'id': '2',
      },
      {
        'id': '3',
      },
    ],
  },
}

2020-09-17 17:05:25,032 - GraphqlClient.py - send_request - DEBUG -{
  'data': {
    'createRole': {
      '__typename': 'Role',
      'id': '107',
      'name': '主设备管理',
      'permissions': [
        {
          '__typename': 'Permission',
          'description': '查看主设备列表、详情',
          'id': '2',
          'scopes': ['/query/thing', '/query/things', '/query/thingByQrCode'],
        },
        {
          '__typename': 'Permission',
          'description': '编辑、导入、导出主设备详情',
          'id': '3',
          'scopes': ['/mutation/createThing',...(len=150),
        },
      ],
    },
  },
  'errors': None,
}

2020-09-17 17:05:25,033 - GraphqlClient.py - send_request - DEBUG -http://192.168.1.175:8888/graphql/?createRole
2020-09-17 17:05:25,033 - GraphqlClient.py - send_request - DEBUG -{'Content-Type': 'application/json', 'authorization': 'Token eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJjcmVkZW50aWFscyI6eyJlbXBsb3llZV9pZCI6MSwiaXNfYWRtaW5fIjp0cnVlfSwidXNlciI6eyJpZCI6MSwiY29tcGFueV9pZCI6MSwibmFtZSI6Ilx1N2JhMVx1NzQwNlx1NTQ1OCIsImRlcGFydG1lbnRfaWQiOjEsImNvZGUiOm51bGwsInBob25lIjpudWxsLCJqb2IiOm51bGwsImVtYWlsIjpudWxsLCJhY2NvdW50IjoiYWRtaW4iLCJzdGF0dXMiOiJBQ1RJVkFURUQiLCJyb2xlcyI6bnVsbH0sImV4cCI6MTYwMDQxOTkxMX0.SaV2grr8Ur_nKw0niKN0TT_eoqieGXMlI-Gce9OAc0k'}
2020-09-17 17:05:25,034 - GraphqlClient.py - send_request - DEBUG -{
  'input': {
    'name': '主设备管理',
    'permissions': [
      {
        'id': '2',
      },
      {
        'id': '3',
      },
    ],
  },
}

2020-09-17 17:05:25,131 - GraphqlClient.py - send_request - DEBUG -{
  'data': {
    'createRole': {
      '__typename': 'Role',
      'id': '108',
      'name': '主设备管理',
      'permissions': [
        {
          '__typename': 'Permission',
          'description': '查看主设备列表、详情',
          'id': '2',
          'scopes': ['/query/thing', '/query/things', '/query/thingByQrCode'],
        },
        {
          '__typename': 'Permission',
          'description': '编辑、导入、导出主设备详情',
          'id': '3',
          'scopes': ['/mutation/createThing',...(len=150),
        },
      ],
    },
  },
  'errors': None,
}

2020-09-17 17:05:25,131 - GraphqlClient.py - send_request - DEBUG -http://192.168.1.175:8888/graphql/?createEmployee
2020-09-17 17:05:25,131 - GraphqlClient.py - send_request - DEBUG -{'Content-Type': 'application/json', 'authorization': 'Token eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJjcmVkZW50aWFscyI6eyJlbXBsb3llZV9pZCI6MSwiaXNfYWRtaW5fIjp0cnVlfSwidXNlciI6eyJpZCI6MSwiY29tcGFueV9pZCI6MSwibmFtZSI6Ilx1N2JhMVx1NzQwNlx1NTQ1OCIsImRlcGFydG1lbnRfaWQiOjEsImNvZGUiOm51bGwsInBob25lIjpudWxsLCJqb2IiOm51bGwsImVtYWlsIjpudWxsLCJhY2NvdW50IjoiYWRtaW4iLCJzdGF0dXMiOiJBQ1RJVkFURUQiLCJyb2xlcyI6bnVsbH0sImV4cCI6MTYwMDQxOTkxMX0.SaV2grr8Ur_nKw0niKN0TT_eoqieGXMlI-Gce9OAc0k'}
2020-09-17 17:05:25,135 - GraphqlClient.py - send_request - DEBUG -{
  'input': {
    'account': 'admin2',
    'code': 'hdkar',
    'department': {
      'id': 1,
    },
    'name': '主设备管理',
    'password': '123456',
    'phone': '123456',
    'roles': [
      {
        'id': '108',
      },
    ],
    'status': 'ACTIVATED',
  },
}

2020-09-17 17:05:25,284 - GraphqlClient.py - send_request - DEBUG -{
  'data': None,
  'errors': [
    {
      'locations': [
        {
          'column': 5,
          'line': 2,
        },
      ],
      'message': 'duplicate key value violates unique constraint
                  "uq_employees__account__company_id"\nDETAIL:  Key (account,
                  ...(1 hidden line)',
      'path': ['createEmployee'],
    },
  ],
}

2020-09-17 17:05:25,284 - test_permissions.py - TestPermission - DEBUG -'bool' object is not subscriptable
2020-09-17 17:05:25,284 - GraphqlClient.py - send_request - DEBUG -http://192.168.1.175:8888/graphql/?createRole
2020-09-17 17:05:25,284 - GraphqlClient.py - send_request - DEBUG -{'Content-Type': 'application/json', 'authorization': 'Token eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJjcmVkZW50aWFscyI6eyJlbXBsb3llZV9pZCI6MSwiaXNfYWRtaW5fIjp0cnVlfSwidXNlciI6eyJpZCI6MSwiY29tcGFueV9pZCI6MSwibmFtZSI6Ilx1N2JhMVx1NzQwNlx1NTQ1OCIsImRlcGFydG1lbnRfaWQiOjEsImNvZGUiOm51bGwsInBob25lIjpudWxsLCJqb2IiOm51bGwsImVtYWlsIjpudWxsLCJhY2NvdW50IjoiYWRtaW4iLCJzdGF0dXMiOiJBQ1RJVkFURUQiLCJyb2xlcyI6bnVsbH0sImV4cCI6MTYwMDQxOTkxMX0.SaV2grr8Ur_nKw0niKN0TT_eoqieGXMlI-Gce9OAc0k'}
2020-09-17 17:05:25,287 - GraphqlClient.py - send_request - DEBUG -{
  'input': {
    'name': '保养',
    'permissions': [
      {
        'id': '16',
      },
      {
        'id': '17',
      },
      {
        'id': '18',
      },
      {
        'id': '19',
      },
    ],
  },
}

2020-09-17 17:05:25,431 - GraphqlClient.py - send_request - DEBUG -{
  'data': {
    'createRole': {
      '__typename': 'Role',
      'id': '109',
      'name': '保养',
      'permissions': [
        {
          '__typename': 'Permission',
          'description': '查看保养方案',
          'id': '16',
          'scopes': ['/query/thingMaintenanceRule',...(len=63),
        },
        {
          '__typename': 'Permission',
          'description': '编辑保养方案',
          'id': '17',
          'scopes': ['/mutation/createThingMaintenanceRule',...(len=121),
        },
        {
          '__typename': 'Permission',
          'description': '查看、发起、审核保养单',
          'id': '18',
          'scopes': ['/query/thingMaintenance',...(len=203),
        },
        {
          '__typename': 'Permission',
          'description': '查看、发起、反馈保养单',
          'id': '19',
          'scopes': ['/query/thingMaintenance',...(len=205),
        },
      ],
    },
  },
  'errors': None,
}

2020-09-17 17:05:25,431 - GraphqlClient.py - send_request - DEBUG -http://192.168.1.175:8888/graphql/?createRole
2020-09-17 17:05:25,431 - GraphqlClient.py - send_request - DEBUG -{'Content-Type': 'application/json', 'authorization': 'Token eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJjcmVkZW50aWFscyI6eyJlbXBsb3llZV9pZCI6MSwiaXNfYWRtaW5fIjp0cnVlfSwidXNlciI6eyJpZCI6MSwiY29tcGFueV9pZCI6MSwibmFtZSI6Ilx1N2JhMVx1NzQwNlx1NTQ1OCIsImRlcGFydG1lbnRfaWQiOjEsImNvZGUiOm51bGwsInBob25lIjpudWxsLCJqb2IiOm51bGwsImVtYWlsIjpudWxsLCJhY2NvdW50IjoiYWRtaW4iLCJzdGF0dXMiOiJBQ1RJVkFURUQiLCJyb2xlcyI6bnVsbH0sImV4cCI6MTYwMDQxOTkxMX0.SaV2grr8Ur_nKw0niKN0TT_eoqieGXMlI-Gce9OAc0k'}
2020-09-17 17:05:25,433 - GraphqlClient.py - send_request - DEBUG -{
  'input': {
    'name': '保养',
    'permissions': [
      {
        'id': '16',
      },
      {
        'id': '17',
      },
      {
        'id': '18',
      },
      {
        'id': '19',
      },
    ],
  },
}

2020-09-17 17:05:25,573 - GraphqlClient.py - send_request - DEBUG -{
  'data': {
    'createRole': {
      '__typename': 'Role',
      'id': '110',
      'name': '保养',
      'permissions': [
        {
          '__typename': 'Permission',
          'description': '查看保养方案',
          'id': '16',
          'scopes': ['/query/thingMaintenanceRule',...(len=63),
        },
        {
          '__typename': 'Permission',
          'description': '编辑保养方案',
          'id': '17',
          'scopes': ['/mutation/createThingMaintenanceRule',...(len=121),
        },
        {
          '__typename': 'Permission',
          'description': '查看、发起、审核保养单',
          'id': '18',
          'scopes': ['/query/thingMaintenance',...(len=203),
        },
        {
          '__typename': 'Permission',
          'description': '查看、发起、反馈保养单',
          'id': '19',
          'scopes': ['/query/thingMaintenance',...(len=205),
        },
      ],
    },
  },
  'errors': None,
}

2020-09-17 17:05:25,573 - GraphqlClient.py - send_request - DEBUG -http://192.168.1.175:8888/graphql/?createEmployee
2020-09-17 17:05:25,573 - GraphqlClient.py - send_request - DEBUG -{'Content-Type': 'application/json', 'authorization': 'Token eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJjcmVkZW50aWFscyI6eyJlbXBsb3llZV9pZCI6MSwiaXNfYWRtaW5fIjp0cnVlfSwidXNlciI6eyJpZCI6MSwiY29tcGFueV9pZCI6MSwibmFtZSI6Ilx1N2JhMVx1NzQwNlx1NTQ1OCIsImRlcGFydG1lbnRfaWQiOjEsImNvZGUiOm51bGwsInBob25lIjpudWxsLCJqb2IiOm51bGwsImVtYWlsIjpudWxsLCJhY2NvdW50IjoiYWRtaW4iLCJzdGF0dXMiOiJBQ1RJVkFURUQiLCJyb2xlcyI6bnVsbH0sImV4cCI6MTYwMDQxOTkxMX0.SaV2grr8Ur_nKw0niKN0TT_eoqieGXMlI-Gce9OAc0k'}
2020-09-17 17:05:25,576 - GraphqlClient.py - send_request - DEBUG -{
  'input': {
    'account': 'admin3',
    'code': 'qlfto',
    'department': {
      'id': 1,
    },
    'name': '保养',
    'password': '123456',
    'phone': '123456',
    'roles': [
      {
        'id': '110',
      },
    ],
    'status': 'ACTIVATED',
  },
}

2020-09-17 17:05:26,519 - GraphqlClient.py - send_request - DEBUG -{
  'data': None,
  'errors': [
    {
      'locations': [
        {
          'column': 5,
          'line': 2,
        },
      ],
      'message': 'duplicate key value violates unique constraint
                  "uq_employees__account__company_id"\nDETAIL:  Key (account,
                  ...(1 hidden line)',
      'path': ['createEmployee'],
    },
  ],
}

2020-09-17 17:05:26,519 - test_permissions.py - TestPermission - DEBUG -'bool' object is not subscriptable
2020-09-17 17:05:26,519 - GraphqlClient.py - send_request - DEBUG -http://192.168.1.175:8888/graphql/?createRole
2020-09-17 17:05:26,519 - GraphqlClient.py - send_request - DEBUG -{'Content-Type': 'application/json', 'authorization': 'Token eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJjcmVkZW50aWFscyI6eyJlbXBsb3llZV9pZCI6MSwiaXNfYWRtaW5fIjp0cnVlfSwidXNlciI6eyJpZCI6MSwiY29tcGFueV9pZCI6MSwibmFtZSI6Ilx1N2JhMVx1NzQwNlx1NTQ1OCIsImRlcGFydG1lbnRfaWQiOjEsImNvZGUiOm51bGwsInBob25lIjpudWxsLCJqb2IiOm51bGwsImVtYWlsIjpudWxsLCJhY2NvdW50IjoiYWRtaW4iLCJzdGF0dXMiOiJBQ1RJVkFURUQiLCJyb2xlcyI6bnVsbH0sImV4cCI6MTYwMDQxOTkxMX0.SaV2grr8Ur_nKw0niKN0TT_eoqieGXMlI-Gce9OAc0k'}
2020-09-17 17:05:26,523 - GraphqlClient.py - send_request - DEBUG -{
  'input': {
    'name': '备件管理',
    'permissions': [
      {
        'id': '28',
      },
      {
        'id': '4',
      },
      {
        'id': '5',
      },
      {
        'id': '6',
      },
      {
        'id': '7',
      },
      {
        'id': '8',
      },
      {
        'id': '9',
      },
    ],
  },
}

2020-09-17 17:05:26,657 - GraphqlClient.py - send_request - DEBUG -{
  'data': {
    'createRole': {
      '__typename': 'Role',
      'id': '111',
      'name': '备件管理',
      'permissions': [
        {
          '__typename': 'Permission',
          'description': '查看备件列表、详情',
          'id': '4',
          'scopes': ['/query/sparePart', '/query/spareParts'],
        },
        {
          '__typename': 'Permission',
          'description': '编辑、导入、导出备件详情',
          'id': '5',
          'scopes': ['/mutation/createSparePart',...(len=174),
        },
        {
          '__typename': 'Permission',
          'description': '查看备件库存、入库记录、申领记录',
          'id': '6',
          'scopes': ['/query/sparePartStocks',...(len=263),
        },
        {
          '__typename': 'Permission',
          'description': '编辑仓库信息',
          'id': '7',
          'scopes': [],
        },
        {
          '__typename': 'Permission',
          'description': '发起备件入库',
          'id': '8',
          'scopes': ['/mutation/createSparePartReceipt',...(len=72),
        },
        {
          '__typename': 'Permission',
          'description': '发起备件申领',
          'id': '9',
          'scopes': ['/mutation/createSparePartOutbound',...(len=74),
        },
        {
          '__typename': 'Permission',
          'description': '审核备件申领单',
          'id': '28',
          'scopes': ['/mutation/updateSparePartOutboundStatus'],
        },
      ],
    },
  },
  'errors': None,
}

2020-09-17 17:05:26,657 - GraphqlClient.py - send_request - DEBUG -http://192.168.1.175:8888/graphql/?createRole
2020-09-17 17:05:26,657 - GraphqlClient.py - send_request - DEBUG -{'Content-Type': 'application/json', 'authorization': 'Token eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJjcmVkZW50aWFscyI6eyJlbXBsb3llZV9pZCI6MSwiaXNfYWRtaW5fIjp0cnVlfSwidXNlciI6eyJpZCI6MSwiY29tcGFueV9pZCI6MSwibmFtZSI6Ilx1N2JhMVx1NzQwNlx1NTQ1OCIsImRlcGFydG1lbnRfaWQiOjEsImNvZGUiOm51bGwsInBob25lIjpudWxsLCJqb2IiOm51bGwsImVtYWlsIjpudWxsLCJhY2NvdW50IjoiYWRtaW4iLCJzdGF0dXMiOiJBQ1RJVkFURUQiLCJyb2xlcyI6bnVsbH0sImV4cCI6MTYwMDQxOTkxMX0.SaV2grr8Ur_nKw0niKN0TT_eoqieGXMlI-Gce9OAc0k'}
2020-09-17 17:05:26,660 - GraphqlClient.py - send_request - DEBUG -{
  'input': {
    'name': '备件管理',
    'permissions': [
      {
        'id': '28',
      },
      {
        'id': '4',
      },
      {
        'id': '5',
      },
      {
        'id': '6',
      },
      {
        'id': '7',
      },
      {
        'id': '8',
      },
      {
        'id': '9',
      },
    ],
  },
}

2020-09-17 17:05:26,793 - GraphqlClient.py - send_request - DEBUG -{
  'data': {
    'createRole': {
      '__typename': 'Role',
      'id': '112',
      'name': '备件管理',
      'permissions': [
        {
          '__typename': 'Permission',
          'description': '查看备件列表、详情',
          'id': '4',
          'scopes': ['/query/sparePart', '/query/spareParts'],
        },
        {
          '__typename': 'Permission',
          'description': '编辑、导入、导出备件详情',
          'id': '5',
          'scopes': ['/mutation/createSparePart',...(len=174),
        },
        {
          '__typename': 'Permission',
          'description': '查看备件库存、入库记录、申领记录',
          'id': '6',
          'scopes': ['/query/sparePartStocks',...(len=263),
        },
        {
          '__typename': 'Permission',
          'description': '编辑仓库信息',
          'id': '7',
          'scopes': [],
        },
        {
          '__typename': 'Permission',
          'description': '发起备件入库',
          'id': '8',
          'scopes': ['/mutation/createSparePartReceipt',...(len=72),
        },
        {
          '__typename': 'Permission',
          'description': '发起备件申领',
          'id': '9',
          'scopes': ['/mutation/createSparePartOutbound',...(len=74),
        },
        {
          '__typename': 'Permission',
          'description': '审核备件申领单',
          'id': '28',
          'scopes': ['/mutation/updateSparePartOutboundStatus'],
        },
      ],
    },
  },
  'errors': None,
}

2020-09-17 17:05:26,793 - GraphqlClient.py - send_request - DEBUG -http://192.168.1.175:8888/graphql/?createEmployee
2020-09-17 17:05:26,793 - GraphqlClient.py - send_request - DEBUG -{'Content-Type': 'application/json', 'authorization': 'Token eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJjcmVkZW50aWFscyI6eyJlbXBsb3llZV9pZCI6MSwiaXNfYWRtaW5fIjp0cnVlfSwidXNlciI6eyJpZCI6MSwiY29tcGFueV9pZCI6MSwibmFtZSI6Ilx1N2JhMVx1NzQwNlx1NTQ1OCIsImRlcGFydG1lbnRfaWQiOjEsImNvZGUiOm51bGwsInBob25lIjpudWxsLCJqb2IiOm51bGwsImVtYWlsIjpudWxsLCJhY2NvdW50IjoiYWRtaW4iLCJzdGF0dXMiOiJBQ1RJVkFURUQiLCJyb2xlcyI6bnVsbH0sImV4cCI6MTYwMDQxOTkxMX0.SaV2grr8Ur_nKw0niKN0TT_eoqieGXMlI-Gce9OAc0k'}
2020-09-17 17:05:26,796 - GraphqlClient.py - send_request - DEBUG -{
  'input': {
    'account': 'admin4',
    'code': 'wmohh',
    'department': {
      'id': 1,
    },
    'name': '备件管理',
    'password': '123456',
    'phone': '123456',
    'roles': [
      {
        'id': '112',
      },
    ],
    'status': 'ACTIVATED',
  },
}

2020-09-17 17:05:28,241 - GraphqlClient.py - send_request - DEBUG -{
  'data': None,
  'errors': [
    {
      'locations': [
        {
          'column': 5,
          'line': 2,
        },
      ],
      'message': 'duplicate key value violates unique constraint
                  "uq_employees__account__company_id"\nDETAIL:  Key (account,
                  ...(1 hidden line)',
      'path': ['createEmployee'],
    },
  ],
}

2020-09-17 17:05:28,241 - test_permissions.py - TestPermission - DEBUG -'bool' object is not subscriptable
2020-09-17 17:05:28,241 - GraphqlClient.py - send_request - DEBUG -http://192.168.1.175:8888/graphql/?createRole
2020-09-17 17:05:28,241 - GraphqlClient.py - send_request - DEBUG -{'Content-Type': 'application/json', 'authorization': 'Token eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJjcmVkZW50aWFscyI6eyJlbXBsb3llZV9pZCI6MSwiaXNfYWRtaW5fIjp0cnVlfSwidXNlciI6eyJpZCI6MSwiY29tcGFueV9pZCI6MSwibmFtZSI6Ilx1N2JhMVx1NzQwNlx1NTQ1OCIsImRlcGFydG1lbnRfaWQiOjEsImNvZGUiOm51bGwsInBob25lIjpudWxsLCJqb2IiOm51bGwsImVtYWlsIjpudWxsLCJhY2NvdW50IjoiYWRtaW4iLCJzdGF0dXMiOiJBQ1RJVkFURUQiLCJyb2xlcyI6bnVsbH0sImV4cCI6MTYwMDQxOTkxMX0.SaV2grr8Ur_nKw0niKN0TT_eoqieGXMlI-Gce9OAc0k'}
2020-09-17 17:05:28,244 - GraphqlClient.py - send_request - DEBUG -{
  'input': {
    'name': '巡检',
    'permissions': [
      {
        'id': '12',
      },
      {
        'id': '13',
      },
      {
        'id': '14',
      },
      {
        'id': '15',
      },
    ],
  },
}

2020-09-17 17:05:28,311 - GraphqlClient.py - send_request - DEBUG -{
  'data': {
    'createRole': {
      '__typename': 'Role',
      'id': '113',
      'name': '巡检',
      'permissions': [
        {
          '__typename': 'Permission',
          'description': '查看巡检方案',
          'id': '12',
          'scopes': ['/query/thingInspectionRule',...(len=61),
        },
        {
          '__typename': 'Permission',
          'description': '编辑巡检方案',
          'id': '13',
          'scopes': ['/mutation/createThingInspectionRule',...(len=113),
        },
        {
          '__typename': 'Permission',
          'description': '查看、发起、审核巡检单',
          'id': '14',
          'scopes': ['/mutation/createThingInspection',...(len=164),
        },
        {
          '__typename': 'Permission',
          'description': '查看、发起、反馈巡检单',
          'id': '15',
          'scopes': ['/mutation/createThingInspection',...(len=166),
        },
      ],
    },
  },
  'errors': None,
}

2020-09-17 17:05:28,311 - GraphqlClient.py - send_request - DEBUG -http://192.168.1.175:8888/graphql/?createRole
2020-09-17 17:05:28,311 - GraphqlClient.py - send_request - DEBUG -{'Content-Type': 'application/json', 'authorization': 'Token eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJjcmVkZW50aWFscyI6eyJlbXBsb3llZV9pZCI6MSwiaXNfYWRtaW5fIjp0cnVlfSwidXNlciI6eyJpZCI6MSwiY29tcGFueV9pZCI6MSwibmFtZSI6Ilx1N2JhMVx1NzQwNlx1NTQ1OCIsImRlcGFydG1lbnRfaWQiOjEsImNvZGUiOm51bGwsInBob25lIjpudWxsLCJqb2IiOm51bGwsImVtYWlsIjpudWxsLCJhY2NvdW50IjoiYWRtaW4iLCJzdGF0dXMiOiJBQ1RJVkFURUQiLCJyb2xlcyI6bnVsbH0sImV4cCI6MTYwMDQxOTkxMX0.SaV2grr8Ur_nKw0niKN0TT_eoqieGXMlI-Gce9OAc0k'}
2020-09-17 17:05:28,314 - GraphqlClient.py - send_request - DEBUG -{
  'input': {
    'name': '巡检',
    'permissions': [
      {
        'id': '12',
      },
      {
        'id': '13',
      },
      {
        'id': '14',
      },
      {
        'id': '15',
      },
    ],
  },
}

2020-09-17 17:05:28,399 - GraphqlClient.py - send_request - DEBUG -{
  'data': {
    'createRole': {
      '__typename': 'Role',
      'id': '114',
      'name': '巡检',
      'permissions': [
        {
          '__typename': 'Permission',
          'description': '查看巡检方案',
          'id': '12',
          'scopes': ['/query/thingInspectionRule',...(len=61),
        },
        {
          '__typename': 'Permission',
          'description': '编辑巡检方案',
          'id': '13',
          'scopes': ['/mutation/createThingInspectionRule',...(len=113),
        },
        {
          '__typename': 'Permission',
          'description': '查看、发起、审核巡检单',
          'id': '14',
          'scopes': ['/mutation/createThingInspection',...(len=164),
        },
        {
          '__typename': 'Permission',
          'description': '查看、发起、反馈巡检单',
          'id': '15',
          'scopes': ['/mutation/createThingInspection',...(len=166),
        },
      ],
    },
  },
  'errors': None,
}

2020-09-17 17:05:28,400 - GraphqlClient.py - send_request - DEBUG -http://192.168.1.175:8888/graphql/?createEmployee
2020-09-17 17:05:28,400 - GraphqlClient.py - send_request - DEBUG -{'Content-Type': 'application/json', 'authorization': 'Token eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJjcmVkZW50aWFscyI6eyJlbXBsb3llZV9pZCI6MSwiaXNfYWRtaW5fIjp0cnVlfSwidXNlciI6eyJpZCI6MSwiY29tcGFueV9pZCI6MSwibmFtZSI6Ilx1N2JhMVx1NzQwNlx1NTQ1OCIsImRlcGFydG1lbnRfaWQiOjEsImNvZGUiOm51bGwsInBob25lIjpudWxsLCJqb2IiOm51bGwsImVtYWlsIjpudWxsLCJhY2NvdW50IjoiYWRtaW4iLCJzdGF0dXMiOiJBQ1RJVkFURUQiLCJyb2xlcyI6bnVsbH0sImV4cCI6MTYwMDQxOTkxMX0.SaV2grr8Ur_nKw0niKN0TT_eoqieGXMlI-Gce9OAc0k'}
2020-09-17 17:05:28,402 - GraphqlClient.py - send_request - DEBUG -{
  'input': {
    'account': 'admin5',
    'code': 'xlkqe',
    'department': {
      'id': 1,
    },
    'name': '巡检',
    'password': '123456',
    'phone': '123456',
    'roles': [
      {
        'id': '114',
      },
    ],
    'status': 'ACTIVATED',
  },
}

2020-09-17 17:05:29,113 - GraphqlClient.py - send_request - DEBUG -{
  'data': None,
  'errors': [
    {
      'locations': [
        {
          'column': 5,
          'line': 2,
        },
      ],
      'message': 'duplicate key value violates unique constraint
                  "uq_employees__account__company_id"\nDETAIL:  Key (account,
                  ...(1 hidden line)',
      'path': ['createEmployee'],
    },
  ],
}

2020-09-17 17:05:29,114 - test_permissions.py - TestPermission - DEBUG -'bool' object is not subscriptable
2020-09-17 17:05:29,114 - GraphqlClient.py - send_request - DEBUG -http://192.168.1.175:8888/graphql/?createRole
2020-09-17 17:05:29,114 - GraphqlClient.py - send_request - DEBUG -{'Content-Type': 'application/json', 'authorization': 'Token eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJjcmVkZW50aWFscyI6eyJlbXBsb3llZV9pZCI6MSwiaXNfYWRtaW5fIjp0cnVlfSwidXNlciI6eyJpZCI6MSwiY29tcGFueV9pZCI6MSwibmFtZSI6Ilx1N2JhMVx1NzQwNlx1NTQ1OCIsImRlcGFydG1lbnRfaWQiOjEsImNvZGUiOm51bGwsInBob25lIjpudWxsLCJqb2IiOm51bGwsImVtYWlsIjpudWxsLCJhY2NvdW50IjoiYWRtaW4iLCJzdGF0dXMiOiJBQ1RJVkFURUQiLCJyb2xlcyI6bnVsbH0sImV4cCI6MTYwMDQxOTkxMX0.SaV2grr8Ur_nKw0niKN0TT_eoqieGXMlI-Gce9OAc0k'}
2020-09-17 17:05:29,115 - GraphqlClient.py - send_request - DEBUG -{
  'input': {
    'name': '概览（报表）',
    'permissions': [
      {
        'id': '26',
      },
    ],
  },
}

2020-09-17 17:05:29,209 - GraphqlClient.py - send_request - DEBUG -{
  'data': {
    'createRole': {
      '__typename': 'Role',
      'id': '115',
      'name': '概览（报表）',
      'permissions': [
        {
          '__typename': 'Permission',
          'description': '查看所有报表',
          'id': '26',
          'scopes': ['/query/thingOverview', '/query/thingSummary',...(len=96),
        },
      ],
    },
  },
  'errors': None,
}

2020-09-17 17:05:29,209 - GraphqlClient.py - send_request - DEBUG -http://192.168.1.175:8888/graphql/?createRole
2020-09-17 17:05:29,209 - GraphqlClient.py - send_request - DEBUG -{'Content-Type': 'application/json', 'authorization': 'Token eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJjcmVkZW50aWFscyI6eyJlbXBsb3llZV9pZCI6MSwiaXNfYWRtaW5fIjp0cnVlfSwidXNlciI6eyJpZCI6MSwiY29tcGFueV9pZCI6MSwibmFtZSI6Ilx1N2JhMVx1NzQwNlx1NTQ1OCIsImRlcGFydG1lbnRfaWQiOjEsImNvZGUiOm51bGwsInBob25lIjpudWxsLCJqb2IiOm51bGwsImVtYWlsIjpudWxsLCJhY2NvdW50IjoiYWRtaW4iLCJzdGF0dXMiOiJBQ1RJVkFURUQiLCJyb2xlcyI6bnVsbH0sImV4cCI6MTYwMDQxOTkxMX0.SaV2grr8Ur_nKw0niKN0TT_eoqieGXMlI-Gce9OAc0k'}
2020-09-17 17:05:29,211 - GraphqlClient.py - send_request - DEBUG -{
  'input': {
    'name': '概览（报表）',
    'permissions': [
      {
        'id': '26',
      },
    ],
  },
}

2020-09-17 17:05:29,282 - GraphqlClient.py - send_request - DEBUG -{
  'data': {
    'createRole': {
      '__typename': 'Role',
      'id': '116',
      'name': '概览（报表）',
      'permissions': [
        {
          '__typename': 'Permission',
          'description': '查看所有报表',
          'id': '26',
          'scopes': ['/query/thingOverview', '/query/thingSummary',...(len=96),
        },
      ],
    },
  },
  'errors': None,
}

2020-09-17 17:05:29,283 - GraphqlClient.py - send_request - DEBUG -http://192.168.1.175:8888/graphql/?createEmployee
2020-09-17 17:05:29,283 - GraphqlClient.py - send_request - DEBUG -{'Content-Type': 'application/json', 'authorization': 'Token eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJjcmVkZW50aWFscyI6eyJlbXBsb3llZV9pZCI6MSwiaXNfYWRtaW5fIjp0cnVlfSwidXNlciI6eyJpZCI6MSwiY29tcGFueV9pZCI6MSwibmFtZSI6Ilx1N2JhMVx1NzQwNlx1NTQ1OCIsImRlcGFydG1lbnRfaWQiOjEsImNvZGUiOm51bGwsInBob25lIjpudWxsLCJqb2IiOm51bGwsImVtYWlsIjpudWxsLCJhY2NvdW50IjoiYWRtaW4iLCJzdGF0dXMiOiJBQ1RJVkFURUQiLCJyb2xlcyI6bnVsbH0sImV4cCI6MTYwMDQxOTkxMX0.SaV2grr8Ur_nKw0niKN0TT_eoqieGXMlI-Gce9OAc0k'}
2020-09-17 17:05:29,288 - GraphqlClient.py - send_request - DEBUG -{
  'input': {
    'account': 'admin6',
    'code': 'hthpz',
    'department': {
      'id': 1,
    },
    'name': '概览（报表）',
    'password': '123456',
    'phone': '123456',
    'roles': [
      {
        'id': '116',
      },
    ],
    'status': 'ACTIVATED',
  },
}

2020-09-17 17:05:29,478 - GraphqlClient.py - send_request - DEBUG -{
  'data': None,
  'errors': [
    {
      'locations': [
        {
          'column': 5,
          'line': 2,
        },
      ],
      'message': 'duplicate key value violates unique constraint
                  "uq_employees__account__company_id"\nDETAIL:  Key (account,
                  ...(1 hidden line)',
      'path': ['createEmployee'],
    },
  ],
}

2020-09-17 17:05:29,478 - test_permissions.py - TestPermission - DEBUG -'bool' object is not subscriptable
2020-09-17 17:05:29,478 - GraphqlClient.py - send_request - DEBUG -http://192.168.1.175:8888/graphql/?createRole
2020-09-17 17:05:29,478 - GraphqlClient.py - send_request - DEBUG -{'Content-Type': 'application/json', 'authorization': 'Token eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJjcmVkZW50aWFscyI6eyJlbXBsb3llZV9pZCI6MSwiaXNfYWRtaW5fIjp0cnVlfSwidXNlciI6eyJpZCI6MSwiY29tcGFueV9pZCI6MSwibmFtZSI6Ilx1N2JhMVx1NzQwNlx1NTQ1OCIsImRlcGFydG1lbnRfaWQiOjEsImNvZGUiOm51bGwsInBob25lIjpudWxsLCJqb2IiOm51bGwsImVtYWlsIjpudWxsLCJhY2NvdW50IjoiYWRtaW4iLCJzdGF0dXMiOiJBQ1RJVkFURUQiLCJyb2xlcyI6bnVsbH0sImV4cCI6MTYwMDQxOTkxMX0.SaV2grr8Ur_nKw0niKN0TT_eoqieGXMlI-Gce9OAc0k'}
2020-09-17 17:05:29,480 - GraphqlClient.py - send_request - DEBUG -{
  'input': {
    'name': '维修',
    'permissions': [
      {
        'id': '10',
      },
      {
        'id': '11',
      },
    ],
  },
}

2020-09-17 17:05:29,552 - GraphqlClient.py - send_request - DEBUG -{
  'data': {
    'createRole': {
      '__typename': 'Role',
      'id': '117',
      'name': '维修',
      'permissions': [
        {
          '__typename': 'Permission',
          'description': '查看、发起、审核维修单',
          'id': '10',
          'scopes': ['/query/thingRepairs', '/query/thingRepair',...(len=176),
        },
        {
          '__typename': 'Permission',
          'description': '查看、发起、反馈维修单',
          'id': '11',
          'scopes': ['/query/thingRepairs', '/query/thingRepair',...(len=178),
        },
      ],
    },
  },
  'errors': None,
}

2020-09-17 17:05:29,552 - GraphqlClient.py - send_request - DEBUG -http://192.168.1.175:8888/graphql/?createRole
2020-09-17 17:05:29,552 - GraphqlClient.py - send_request - DEBUG -{'Content-Type': 'application/json', 'authorization': 'Token eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJjcmVkZW50aWFscyI6eyJlbXBsb3llZV9pZCI6MSwiaXNfYWRtaW5fIjp0cnVlfSwidXNlciI6eyJpZCI6MSwiY29tcGFueV9pZCI6MSwibmFtZSI6Ilx1N2JhMVx1NzQwNlx1NTQ1OCIsImRlcGFydG1lbnRfaWQiOjEsImNvZGUiOm51bGwsInBob25lIjpudWxsLCJqb2IiOm51bGwsImVtYWlsIjpudWxsLCJhY2NvdW50IjoiYWRtaW4iLCJzdGF0dXMiOiJBQ1RJVkFURUQiLCJyb2xlcyI6bnVsbH0sImV4cCI6MTYwMDQxOTkxMX0.SaV2grr8Ur_nKw0niKN0TT_eoqieGXMlI-Gce9OAc0k'}
2020-09-17 17:05:29,554 - GraphqlClient.py - send_request - DEBUG -{
  'input': {
    'name': '维修',
    'permissions': [
      {
        'id': '10',
      },
      {
        'id': '11',
      },
    ],
  },
}

2020-09-17 17:05:29,628 - GraphqlClient.py - send_request - DEBUG -{
  'data': {
    'createRole': {
      '__typename': 'Role',
      'id': '118',
      'name': '维修',
      'permissions': [
        {
          '__typename': 'Permission',
          'description': '查看、发起、审核维修单',
          'id': '10',
          'scopes': ['/query/thingRepairs', '/query/thingRepair',...(len=176),
        },
        {
          '__typename': 'Permission',
          'description': '查看、发起、反馈维修单',
          'id': '11',
          'scopes': ['/query/thingRepairs', '/query/thingRepair',...(len=178),
        },
      ],
    },
  },
  'errors': None,
}

2020-09-17 17:05:29,628 - GraphqlClient.py - send_request - DEBUG -http://192.168.1.175:8888/graphql/?createEmployee
2020-09-17 17:05:29,628 - GraphqlClient.py - send_request - DEBUG -{'Content-Type': 'application/json', 'authorization': 'Token eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJjcmVkZW50aWFscyI6eyJlbXBsb3llZV9pZCI6MSwiaXNfYWRtaW5fIjp0cnVlfSwidXNlciI6eyJpZCI6MSwiY29tcGFueV9pZCI6MSwibmFtZSI6Ilx1N2JhMVx1NzQwNlx1NTQ1OCIsImRlcGFydG1lbnRfaWQiOjEsImNvZGUiOm51bGwsInBob25lIjpudWxsLCJqb2IiOm51bGwsImVtYWlsIjpudWxsLCJhY2NvdW50IjoiYWRtaW4iLCJzdGF0dXMiOiJBQ1RJVkFURUQiLCJyb2xlcyI6bnVsbH0sImV4cCI6MTYwMDQxOTkxMX0.SaV2grr8Ur_nKw0niKN0TT_eoqieGXMlI-Gce9OAc0k'}
2020-09-17 17:05:29,631 - GraphqlClient.py - send_request - DEBUG -{
  'input': {
    'account': 'admin7',
    'code': 'wjqcg',
    'department': {
      'id': 1,
    },
    'name': '维修',
    'password': '123456',
    'phone': '123456',
    'roles': [
      {
        'id': '118',
      },
    ],
    'status': 'ACTIVATED',
  },
}

2020-09-17 17:05:29,772 - GraphqlClient.py - send_request - DEBUG -{
  'data': None,
  'errors': [
    {
      'locations': [
        {
          'column': 5,
          'line': 2,
        },
      ],
      'message': 'duplicate key value violates unique constraint
                  "uq_employees__account__company_id"\nDETAIL:  Key (account,
                  ...(1 hidden line)',
      'path': ['createEmployee'],
    },
  ],
}

2020-09-17 17:05:29,773 - test_permissions.py - TestPermission - DEBUG -'bool' object is not subscriptable
2020-09-17 17:05:29,774 - GraphqlClient.py - send_request - DEBUG -http://192.168.1.175:8888/graphql/?createRole
2020-09-17 17:05:29,774 - GraphqlClient.py - send_request - DEBUG -{'Content-Type': 'application/json', 'authorization': 'Token eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJjcmVkZW50aWFscyI6eyJlbXBsb3llZV9pZCI6MSwiaXNfYWRtaW5fIjp0cnVlfSwidXNlciI6eyJpZCI6MSwiY29tcGFueV9pZCI6MSwibmFtZSI6Ilx1N2JhMVx1NzQwNlx1NTQ1OCIsImRlcGFydG1lbnRfaWQiOjEsImNvZGUiOm51bGwsInBob25lIjpudWxsLCJqb2IiOm51bGwsImVtYWlsIjpudWxsLCJhY2NvdW50IjoiYWRtaW4iLCJzdGF0dXMiOiJBQ1RJVkFURUQiLCJyb2xlcyI6bnVsbH0sImV4cCI6MTYwMDQxOTkxMX0.SaV2grr8Ur_nKw0niKN0TT_eoqieGXMlI-Gce9OAc0k'}
2020-09-17 17:05:29,780 - GraphqlClient.py - send_request - DEBUG -{
  'input': {
    'name': '设置',
    'permissions': [
      {
        'id': '20',
      },
      {
        'id': '21',
      },
      {
        'id': '22',
      },
      {
        'id': '23',
      },
      {
        'id': '24',
      },
      {
        'id': '25',
      },
    ],
  },
}

2020-09-17 17:05:29,874 - GraphqlClient.py - send_request - DEBUG -{
  'data': {
    'createRole': {
      '__typename': 'Role',
      'id': '119',
      'name': '设置',
      'permissions': [
        {
          '__typename': 'Permission',
          'description': '自定义表单',
          'id': '20',
          'scopes': ['/mutation/updateFormStruct'],
        },
        {
          '__typename': 'Permission',
          'description': '查看隐藏字段',
          'id': '21',
          'scopes': [],
        },
        {
          '__typename': 'Permission',
          'description': '查看组织架构及人员',
          'id': '22',
          'scopes': ['/query/departments', '/query/employees'],
        },
        {
          '__typename': 'Permission',
          'description': '编辑组织架构及人员',
          'id': '23',
          'scopes': ['/mutation/createDepartment',...(len=220),
        },
        {
          '__typename': 'Permission',
          'description': '查看角色权限',
          'id': '24',
          'scopes': ['/query/permissionTable', '/query/roles'],
        },
        {
          '__typename': 'Permission',
          'description': '编辑角色权限',
          'id': '25',
          'scopes': ['/mutation/updateEmployee'],
        },
      ],
    },
  },
  'errors': None,
}

2020-09-17 17:05:29,874 - GraphqlClient.py - send_request - DEBUG -http://192.168.1.175:8888/graphql/?createRole
2020-09-17 17:05:29,874 - GraphqlClient.py - send_request - DEBUG -{'Content-Type': 'application/json', 'authorization': 'Token eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJjcmVkZW50aWFscyI6eyJlbXBsb3llZV9pZCI6MSwiaXNfYWRtaW5fIjp0cnVlfSwidXNlciI6eyJpZCI6MSwiY29tcGFueV9pZCI6MSwibmFtZSI6Ilx1N2JhMVx1NzQwNlx1NTQ1OCIsImRlcGFydG1lbnRfaWQiOjEsImNvZGUiOm51bGwsInBob25lIjpudWxsLCJqb2IiOm51bGwsImVtYWlsIjpudWxsLCJhY2NvdW50IjoiYWRtaW4iLCJzdGF0dXMiOiJBQ1RJVkFURUQiLCJyb2xlcyI6bnVsbH0sImV4cCI6MTYwMDQxOTkxMX0.SaV2grr8Ur_nKw0niKN0TT_eoqieGXMlI-Gce9OAc0k'}
2020-09-17 17:05:29,881 - GraphqlClient.py - send_request - DEBUG -{
  'input': {
    'name': '设置',
    'permissions': [
      {
        'id': '20',
      },
      {
        'id': '21',
      },
      {
        'id': '22',
      },
      {
        'id': '23',
      },
      {
        'id': '24',
      },
      {
        'id': '25',
      },
    ],
  },
}

2020-09-17 17:05:29,984 - GraphqlClient.py - send_request - DEBUG -{
  'data': {
    'createRole': {
      '__typename': 'Role',
      'id': '120',
      'name': '设置',
      'permissions': [
        {
          '__typename': 'Permission',
          'description': '自定义表单',
          'id': '20',
          'scopes': ['/mutation/updateFormStruct'],
        },
        {
          '__typename': 'Permission',
          'description': '查看隐藏字段',
          'id': '21',
          'scopes': [],
        },
        {
          '__typename': 'Permission',
          'description': '查看组织架构及人员',
          'id': '22',
          'scopes': ['/query/departments', '/query/employees'],
        },
        {
          '__typename': 'Permission',
          'description': '编辑组织架构及人员',
          'id': '23',
          'scopes': ['/mutation/createDepartment',...(len=220),
        },
        {
          '__typename': 'Permission',
          'description': '查看角色权限',
          'id': '24',
          'scopes': ['/query/permissionTable', '/query/roles'],
        },
        {
          '__typename': 'Permission',
          'description': '编辑角色权限',
          'id': '25',
          'scopes': ['/mutation/updateEmployee'],
        },
      ],
    },
  },
  'errors': None,
}

2020-09-17 17:05:29,984 - GraphqlClient.py - send_request - DEBUG -http://192.168.1.175:8888/graphql/?createEmployee
2020-09-17 17:05:29,984 - GraphqlClient.py - send_request - DEBUG -{'Content-Type': 'application/json', 'authorization': 'Token eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJjcmVkZW50aWFscyI6eyJlbXBsb3llZV9pZCI6MSwiaXNfYWRtaW5fIjp0cnVlfSwidXNlciI6eyJpZCI6MSwiY29tcGFueV9pZCI6MSwibmFtZSI6Ilx1N2JhMVx1NzQwNlx1NTQ1OCIsImRlcGFydG1lbnRfaWQiOjEsImNvZGUiOm51bGwsInBob25lIjpudWxsLCJqb2IiOm51bGwsImVtYWlsIjpudWxsLCJhY2NvdW50IjoiYWRtaW4iLCJzdGF0dXMiOiJBQ1RJVkFURUQiLCJyb2xlcyI6bnVsbH0sImV4cCI6MTYwMDQxOTkxMX0.SaV2grr8Ur_nKw0niKN0TT_eoqieGXMlI-Gce9OAc0k'}
2020-09-17 17:05:29,990 - GraphqlClient.py - send_request - DEBUG -{
  'input': {
    'account': 'admin8',
    'code': 'uxjoh',
    'department': {
      'id': 1,
    },
    'name': '设置',
    'password': '123456',
    'phone': '123456',
    'roles': [
      {
        'id': '120',
      },
    ],
    'status': 'ACTIVATED',
  },
}

2020-09-17 17:05:31,583 - GraphqlClient.py - send_request - DEBUG -{
  'data': None,
  'errors': [
    {
      'locations': [
        {
          'column': 5,
          'line': 2,
        },
      ],
      'message': 'duplicate key value violates unique constraint
                  "uq_employees__account__company_id"\nDETAIL:  Key (account,
                  ...(1 hidden line)',
      'path': ['createEmployee'],
    },
  ],
}

2020-09-17 17:05:31,584 - test_permissions.py - TestPermission - DEBUG -'bool' object is not subscriptable
2020-09-17 17:05:31,654 - test_permissions.py - test - DEBUG -[]
