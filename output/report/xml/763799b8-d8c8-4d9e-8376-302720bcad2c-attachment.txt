DEBUG    mytest:GraphqlClient.py:34 http://192.168.1.175:8888/graphql/?createThingInspection
DEBUG    mytest:GraphqlClient.py:35 {'Content-Type': 'application/json', 'authorization': 'Token eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJjcmVkZW50aWFscyI6eyJlbXBsb3llZV9pZCI6MSwiaXNfYWRtaW5fIjp0cnVlfSwidXNlciI6eyJpZCI6MSwiY29tcGFueV9pZCI6MSwibmFtZSI6Ilx1N2JhMVx1NzQwNlx1NTQ1OCIsImRlcGFydG1lbnRfaWQiOjEsImNvZGUiOm51bGwsInBob25lIjpudWxsLCJqb2IiOm51bGwsImVtYWlsIjpudWxsLCJhY2NvdW50IjoiYWRtaW4iLCJzdGF0dXMiOiJBQ1RJVkFURUQiLCJyb2xlcyI6bnVsbH0sImV4cCI6MTYwMDMzMDE1MH0.eendcjGT83AZxHbxXnopXSaNNLtK8RvS8qPfjjfpXp8'}
DEBUG    mytest:GraphqlClient.py:36 {
  'input': {
    'operator': {
      'id': 1,
    },
    'period': {
      'startAt': 1600243760792,
      'type': 'SINGLE',
    },
    'rule': {
      'id': 1,
    },
    'things': [
      {
        'id': 1,
      },
      {
        'id': 2,
      },
    ],
  },
}

DEBUG    mytest:GraphqlClient.py:39 {
  'data': {
    'createThingInspection': {
      '__typename': 'ThingInspection',
      'addition': '[]',
      'code': 'XJ202009160055',
      'endAt': None,
      'id': '55',
      'operator': {
        '__typename': 'Employee',
        'account': 'admin',
        'code': None,
        'department': {
          '__typename': 'Department',
          'headcount': 9,
          'id': '1',
          'name': '喜临门家具股份有限公司',
          'parentPath': [],
          'subsidiaries': [],
        },
        'email': None,
        'id': '1',
        'job': None,
        'name': '管理员',
        'phone': None,
        'roles': [
          {'id': '1', 'name': '负责人', 'permissions':...(len=170),
        ],
        'status': 'ACTIVATED',
      },
      'period': {
        '__typename': 'Period',
        'endAt': None,
        'frequency': None,
        'startAt': 1600243760792,
        'type': 'SINGLE',
      },
      'results': [
        {
          '__typename': 'ThingInspectionDetailResult',
          'records': None,
          'remarks': None,
          'thingId': '1',
        },
        {
          '__typename': 'ThingInspectionDetailResult',
          'records': None,
          'remarks': None,
          'thingId': '2',
        },
      ],
      'rule': {
        '__typename': 'ThingInspectionRule',
        'addition': '[{"key": "f2b1c6e74e5446779bf9c1e93a881831", "value":
                     1600240736543.0}, {"key":
                     ...(6 hidden lines)',
        'code': 'XJFA202009160001',
        'id': '1',
        'items': [
          {'id': 'ca46559e-8a71-4081-9ddd-613536b7cdf9',...(len=658),
        ],
        'name': 'name_85aa3',
        'updatedAt': 1600240743873,
      },
      'startAt': 1600243760792,
      'status': 'PENDING',
      'thingRepairs': None,
      'things': [
        {
          '__typename': 'Thing',
          'activatedAt': None,
          'addition': None,
          'brand': '1',
          'category': '1',
          'code': 'code_lcdhm',
          'contact': None,
          'depreciationRate': None,
          'desc': None,
          'distributor': None,
          'factory': '1',
          'id': '1',
          'images': None,
          'location': None,
          'manufacturer': None,
          'model': 'model_z6aw5',
          'name': 'name_pz0bx',
          'phone': None,
          'purchasedAt': None,
          'purchasedPrice': None,
          'purpose': '1',
          'qrCode': 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgA...(len=630)',
          'spareParts': [{'id': '5', 'name': 'name_h6t1q',...(len=94213),
          'status': '1',
          'yearsOfUse': None,
        },
        {
          '__typename': 'Thing',
          'activatedAt': None,
          'addition': None,
          'brand': '1',
          'category': '1',
          'code': 'code_smkpy',
          'contact': None,
          'depreciationRate': None,
          'desc': None,
          'distributor': None,
          'factory': '1',
          'id': '2',
          'images': None,
          'location': None,
          'manufacturer': None,
          'model': 'model_t2zf7',
          'name': 'name_cjcxn',
          'phone': None,
          'purchasedAt': None,
          'purchasedPrice': None,
          'purpose': '1',
          'qrCode': 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgA...(len=594)',
          'spareParts': [{'id': '5', 'name': 'name_h6t1q',...(len=94213),
          'status': '1',
          'yearsOfUse': None,
        },
      ],
    },
  },
  'errors': None,
}

DEBUG    mytest:test_thingInspectionFlow.py:37 thing_inspection_id =55
DEBUG    mytest:GraphqlClient.py:34 http://192.168.1.175:8888/graphql/?updateThingInspectionFeedback
DEBUG    mytest:GraphqlClient.py:35 {'Content-Type': 'application/json', 'authorization': 'Token eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJjcmVkZW50aWFscyI6eyJlbXBsb3llZV9pZCI6MSwiaXNfYWRtaW5fIjp0cnVlfSwidXNlciI6eyJpZCI6MSwiY29tcGFueV9pZCI6MSwibmFtZSI6Ilx1N2JhMVx1NzQwNlx1NTQ1OCIsImRlcGFydG1lbnRfaWQiOjEsImNvZGUiOm51bGwsInBob25lIjpudWxsLCJqb2IiOm51bGwsImVtYWlsIjpudWxsLCJhY2NvdW50IjoiYWRtaW4iLCJzdGF0dXMiOiJBQ1RJVkFURUQiLCJyb2xlcyI6bnVsbH0sImV4cCI6MTYwMDMzMDE1MH0.eendcjGT83AZxHbxXnopXSaNNLtK8RvS8qPfjjfpXp8'}
DEBUG    mytest:GraphqlClient.py:36 {
  'input': {
    'endAt': 1600243763291,
    'id': '55',
    'results': [
      {
        'records': [
          {'subItemId':...(len=85),
          {'subItemId':...(len=73),
        ],
        'remarks': '接口测试标记',
        'thingId': 1,
      },
      {
        'records': [
          {'subItemId':...(len=88),
          {'subItemId':...(len=75),
        ],
        'remarks': '接口测试标记',
        'thingId': 2,
      },
    ],
  },
}

DEBUG    mytest:GraphqlClient.py:39 {
  'data': {
    'updateThingInspectionFeedback': {
      '__typename': 'ThingInspection',
      'addition': '[]',
      'code': 'XJ202009160055',
      'endAt': 1600243763291,
      'id': '55',
      'operator': {
        '__typename': 'Employee',
        'account': 'admin',
        'code': None,
        'department': {
          '__typename': 'Department',
          'headcount': 9,
          'id': '1',
          'name': '喜临门家具股份有限公司',
          'parentPath': [],
          'subsidiaries': [],
        },
        'email': None,
        'id': '1',
        'job': None,
        'name': '管理员',
        'phone': None,
        'roles': [
          {'id': '1', 'name': '负责人', 'permissions':...(len=170),
        ],
        'status': 'ACTIVATED',
      },
      'period': {
        '__typename': 'Period',
        'endAt': None,
        'frequency': None,
        'startAt': 1600243760792,
        'type': 'SINGLE',
      },
      'results': [
        {
          '__typename': 'ThingInspectionDetailResult',
          'records': [{'subItemId':...(len=289),
          'remarks': '接口测试标记',
          'thingId': '1',
        },
        {
          '__typename': 'ThingInspectionDetailResult',
          'records': [{'subItemId':...(len=294),
          'remarks': '接口测试标记',
          'thingId': '2',
        },
      ],
      'rule': {
        '__typename': 'ThingInspectionRule',
        'addition': '[{"key": "f2b1c6e74e5446779bf9c1e93a881831", "value":
                     1600240736543.0}, {"key":
                     ...(6 hidden lines)',
        'code': 'XJFA202009160001',
        'id': '1',
        'items': [
          {'id': 'ca46559e-8a71-4081-9ddd-613536b7cdf9',...(len=658),
        ],
        'name': 'name_85aa3',
        'updatedAt': 1600240743873,
      },
      'startAt': 1600243760792,
      'status': 'INPROGRESS',
      'thingRepairs': None,
      'things': [
        {
          '__typename': 'Thing',
          'activatedAt': None,
          'addition': None,
          'brand': '1',
          'category': '1',
          'code': 'code_lcdhm',
          'contact': None,
          'depreciationRate': None,
          'desc': None,
          'distributor': None,
          'factory': '1',
          'id': '1',
          'images': None,
          'location': None,
          'manufacturer': None,
          'model': 'model_z6aw5',
          'name': 'name_pz0bx',
          'phone': None,
          'purchasedAt': None,
          'purchasedPrice': None,
          'purpose': '1',
          'qrCode': 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgA...(len=630)',
          'spareParts': [{'id': '5', 'name': 'name_h6t1q',...(len=94213),
          'status': '1',
          'yearsOfUse': None,
        },
        {
          '__typename': 'Thing',
          'activatedAt': None,
          'addition': None,
          'brand': '1',
          'category': '1',
          'code': 'code_smkpy',
          'contact': None,
          'depreciationRate': None,
          'desc': None,
          'distributor': None,
          'factory': '1',
          'id': '2',
          'images': None,
          'location': None,
          'manufacturer': None,
          'model': 'model_t2zf7',
          'name': 'name_cjcxn',
          'phone': None,
          'purchasedAt': None,
          'purchasedPrice': None,
          'purpose': '1',
          'qrCode': 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgA...(len=594)',
          'spareParts': [{'id': '5', 'name': 'name_h6t1q',...(len=94213),
          'status': '1',
          'yearsOfUse': None,
        },
      ],
    },
  },
  'errors': None,
}

DEBUG    mytest:AssertMethod.py:17 
jsonpath : '$..status'
get
''INPROGRESS'
'
from
result
DEBUG    mytest:AssertMethod.py:18 except INPROGRESS
DEBUG    mytest:GraphqlClient.py:34 http://192.168.1.175:8888/graphql/?updateThingInspectionStatus
DEBUG    mytest:GraphqlClient.py:35 {'Content-Type': 'application/json', 'authorization': 'Token eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJjcmVkZW50aWFscyI6eyJlbXBsb3llZV9pZCI6MSwiaXNfYWRtaW5fIjp0cnVlfSwidXNlciI6eyJpZCI6MSwiY29tcGFueV9pZCI6MSwibmFtZSI6Ilx1N2JhMVx1NzQwNlx1NTQ1OCIsImRlcGFydG1lbnRfaWQiOjEsImNvZGUiOm51bGwsInBob25lIjpudWxsLCJqb2IiOm51bGwsImVtYWlsIjpudWxsLCJhY2NvdW50IjoiYWRtaW4iLCJzdGF0dXMiOiJBQ1RJVkFURUQiLCJyb2xlcyI6bnVsbH0sImV4cCI6MTYwMDMzMDE1MH0.eendcjGT83AZxHbxXnopXSaNNLtK8RvS8qPfjjfpXp8'}
DEBUG    mytest:GraphqlClient.py:36 {
  'input': {
    'action': 'COMMIT',
    'id': '55',
  },
}

DEBUG    mytest:GraphqlClient.py:39 {
  'data': {
    'updateThingInspectionStatus': {
      '__typename': 'ThingInspection',
      'addition': '[]',
      'code': 'XJ202009160055',
      'endAt': 1600243763291,
      'id': '55',
      'operator': {
        '__typename': 'Employee',
        'account': 'admin',
        'code': None,
        'department': {
          '__typename': 'Department',
          'headcount': 9,
          'id': '1',
          'name': '喜临门家具股份有限公司',
          'parentPath': [],
          'subsidiaries': [],
        },
        'email': None,
        'id': '1',
        'job': None,
        'name': '管理员',
        'phone': None,
        'roles': [
          {'id': '1', 'name': '负责人', 'permissions':...(len=170),
        ],
        'status': 'ACTIVATED',
      },
      'period': {
        '__typename': 'Period',
        'endAt': None,
        'frequency': None,
        'startAt': 1600243760792,
        'type': 'SINGLE',
      },
      'results': [
        {
          '__typename': 'ThingInspectionDetailResult',
          'records': [{'subItemId':...(len=289),
          'remarks': '接口测试标记',
          'thingId': '1',
        },
        {
          '__typename': 'ThingInspectionDetailResult',
          'records': [{'subItemId':...(len=294),
          'remarks': '接口测试标记',
          'thingId': '2',
        },
      ],
      'rule': {
        '__typename': 'ThingInspectionRule',
        'addition': '[{"key": "f2b1c6e74e5446779bf9c1e93a881831", "value":
                     1600240736543.0}, {"key":
                     ...(6 hidden lines)',
        'code': 'XJFA202009160001',
        'id': '1',
        'items': [
          {'id': 'ca46559e-8a71-4081-9ddd-613536b7cdf9',...(len=658),
        ],
        'name': 'name_85aa3',
        'updatedAt': 1600240743873,
      },
      'startAt': 1600243760792,
      'status': 'UNDERREVIEW',
      'thingRepairs': None,
      'things': [
        {
          '__typename': 'Thing',
          'activatedAt': None,
          'addition': None,
          'brand': '1',
          'category': '1',
          'code': 'code_lcdhm',
          'contact': None,
          'depreciationRate': None,
          'desc': None,
          'distributor': None,
          'factory': '1',
          'id': '1',
          'images': None,
          'location': None,
          'manufacturer': None,
          'model': 'model_z6aw5',
          'name': 'name_pz0bx',
          'phone': None,
          'purchasedAt': None,
          'purchasedPrice': None,
          'purpose': '1',
          'qrCode': 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgA...(len=630)',
          'spareParts': [{'id': '5', 'name': 'name_h6t1q',...(len=94213),
          'status': '1',
          'yearsOfUse': None,
        },
        {
          '__typename': 'Thing',
          'activatedAt': None,
          'addition': None,
          'brand': '1',
          'category': '1',
          'code': 'code_smkpy',
          'contact': None,
          'depreciationRate': None,
          'desc': None,
          'distributor': None,
          'factory': '1',
          'id': '2',
          'images': None,
          'location': None,
          'manufacturer': None,
          'model': 'model_t2zf7',
          'name': 'name_cjcxn',
          'phone': None,
          'purchasedAt': None,
          'purchasedPrice': None,
          'purpose': '1',
          'qrCode': 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgA...(len=594)',
          'spareParts': [{'id': '5', 'name': 'name_h6t1q',...(len=94213),
          'status': '1',
          'yearsOfUse': None,
        },
      ],
    },
  },
  'errors': None,
}

DEBUG    mytest:AssertMethod.py:17 
jsonpath : '$..status'
get
''UNDERREVIEW'
'
from
result
DEBUG    mytest:AssertMethod.py:18 except UNDERREVIEW
DEBUG    mytest:GraphqlClient.py:34 http://192.168.1.175:8888/graphql/?updateThingInspectionStatus
DEBUG    mytest:GraphqlClient.py:35 {'Content-Type': 'application/json', 'authorization': 'Token eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJjcmVkZW50aWFscyI6eyJlbXBsb3llZV9pZCI6MSwiaXNfYWRtaW5fIjp0cnVlfSwidXNlciI6eyJpZCI6MSwiY29tcGFueV9pZCI6MSwibmFtZSI6Ilx1N2JhMVx1NzQwNlx1NTQ1OCIsImRlcGFydG1lbnRfaWQiOjEsImNvZGUiOm51bGwsInBob25lIjpudWxsLCJqb2IiOm51bGwsImVtYWlsIjpudWxsLCJhY2NvdW50IjoiYWRtaW4iLCJzdGF0dXMiOiJBQ1RJVkFURUQiLCJyb2xlcyI6bnVsbH0sImV4cCI6MTYwMDMzMDE1MH0.eendcjGT83AZxHbxXnopXSaNNLtK8RvS8qPfjjfpXp8'}
DEBUG    mytest:GraphqlClient.py:36 {
  'input': {
    'action': 'APPROVE_FEEDBACK',
    'id': '55',
  },
}

DEBUG    mytest:GraphqlClient.py:39 {
  'data': {
    'updateThingInspectionStatus': {
      '__typename': 'ThingInspection',
      'addition': '[]',
      'code': 'XJ202009160055',
      'endAt': 1600243763291,
      'id': '55',
      'operator': {
        '__typename': 'Employee',
        'account': 'admin',
        'code': None,
        'department': {
          '__typename': 'Department',
          'headcount': 9,
          'id': '1',
          'name': '喜临门家具股份有限公司',
          'parentPath': [],
          'subsidiaries': [],
        },
        'email': None,
        'id': '1',
        'job': None,
        'name': '管理员',
        'phone': None,
        'roles': [
          {'id': '1', 'name': '负责人', 'permissions':...(len=170),
        ],
        'status': 'ACTIVATED',
      },
      'period': {
        '__typename': 'Period',
        'endAt': None,
        'frequency': None,
        'startAt': 1600243760792,
        'type': 'SINGLE',
      },
      'results': [
        {
          '__typename': 'ThingInspectionDetailResult',
          'records': [{'subItemId':...(len=289),
          'remarks': '接口测试标记',
          'thingId': '1',
        },
        {
          '__typename': 'ThingInspectionDetailResult',
          'records': [{'subItemId':...(len=294),
          'remarks': '接口测试标记',
          'thingId': '2',
        },
      ],
      'rule': {
        '__typename': 'ThingInspectionRule',
        'addition': '[{"key": "f2b1c6e74e5446779bf9c1e93a881831", "value":
                     1600240736543.0}, {"key":
                     ...(6 hidden lines)',
        'code': 'XJFA202009160001',
        'id': '1',
        'items': [
          {'id': 'ca46559e-8a71-4081-9ddd-613536b7cdf9',...(len=658),
        ],
        'name': 'name_85aa3',
        'updatedAt': 1600240743873,
      },
      'startAt': 1600243760792,
      'status': 'FINISHED',
      'thingRepairs': None,
      'things': [
        {
          '__typename': 'Thing',
          'activatedAt': None,
          'addition': None,
          'brand': '1',
          'category': '1',
          'code': 'code_lcdhm',
          'contact': None,
          'depreciationRate': None,
          'desc': None,
          'distributor': None,
          'factory': '1',
          'id': '1',
          'images': None,
          'location': None,
          'manufacturer': None,
          'model': 'model_z6aw5',
          'name': 'name_pz0bx',
          'phone': None,
          'purchasedAt': None,
          'purchasedPrice': None,
          'purpose': '1',
          'qrCode': 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgA...(len=630)',
          'spareParts': [{'id': '5', 'name': 'name_h6t1q',...(len=94213),
          'status': '1',
          'yearsOfUse': None,
        },
        {
          '__typename': 'Thing',
          'activatedAt': None,
          'addition': None,
          'brand': '1',
          'category': '1',
          'code': 'code_smkpy',
          'contact': None,
          'depreciationRate': None,
          'desc': None,
          'distributor': None,
          'factory': '1',
          'id': '2',
          'images': None,
          'location': None,
          'manufacturer': None,
          'model': 'model_t2zf7',
          'name': 'name_cjcxn',
          'phone': None,
          'purchasedAt': None,
          'purchasedPrice': None,
          'purpose': '1',
          'qrCode': 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgA...(len=594)',
          'spareParts': [{'id': '5', 'name': 'name_h6t1q',...(len=94213),
          'status': '1',
          'yearsOfUse': None,
        },
      ],
    },
  },
  'errors': None,
}

DEBUG    mytest:AssertMethod.py:17 
jsonpath : '$..status'
get
''FINISHED'
'
from
result
DEBUG    mytest:AssertMethod.py:18 except FINISHED