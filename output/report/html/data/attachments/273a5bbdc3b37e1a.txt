DEBUG    mytest:GraphqlClient.py:34 http://192.168.1.175:8888/graphql/?createSparePartOutbound
DEBUG    mytest:GraphqlClient.py:35 {'Content-Type': 'application/json', 'authorization': 'Token eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJjcmVkZW50aWFscyI6eyJlbXBsb3llZV9pZCI6MSwiaXNfYWRtaW5fIjp0cnVlfSwidXNlciI6eyJpZCI6MSwiY29tcGFueV9pZCI6MSwibmFtZSI6Ilx1N2JhMVx1NzQwNlx1NTQ1OCIsImRlcGFydG1lbnRfaWQiOjEsImNvZGUiOm51bGwsInBob25lIjpudWxsLCJqb2IiOm51bGwsImVtYWlsIjpudWxsLCJhY2NvdW50IjoiYWRtaW4iLCJzdGF0dXMiOiJBQ1RJVkFURUQiLCJyb2xlcyI6bnVsbH0sImV4cCI6MTYwMDMzNDQyNH0.6D2KbRD_GY75CUrcFQPD9YZZ-j2OeqFpUbLyXnNQkFE'}
DEBUG    mytest:GraphqlClient.py:36 {
  'input': {
    'details': [
      {
        'number': 1,
        'reason': 'LOOSEN',
        'sparePart': {
          'id': 2,
        },
      },
    ],
    'factory': '工作流工厂',
    'operator': {
      'id': 1,
    },
    'reason': '设备维修',
    'shelf': '工作流仓库',
    'thingRepair': {
      'id': 1,
    },
    'time': 1600248173520,
  },
}

DEBUG    mytest:GraphqlClient.py:39 {
  'data': {
    'createSparePartOutbound': {
      '__typename': 'SparePartOutbound',
      'addition': '[]',
      'details': [
        {
          '__typename': 'SparePartOutboundDetail',
          'number': 1,
          'reason': 'LOOSEN',
          'sparePart': {'id': '2', 'name': 'name_pdgl4', 'desc':...(len=23192),
          'totalPrice': 1.01,
        },
      ],
      'factory': '工作流工厂',
      'id': '26',
      'operator': {
        '__typename': 'Employee',
        'account': 'admin',
        'code': None,
        'department': {
          '__typename': 'Department',
          'headcount': 9,
          'id': '1',
          'name': '喜临门家具股份有限公司',
          'parentPath': [],
          'subsidiaries': [],
        },
        'email': None,
        'id': '1',
        'job': None,
        'name': '管理员',
        'phone': None,
        'roles': [
          {'id': '1', 'name': '负责人', 'permissions':...(len=170),
        ],
        'status': 'ACTIVATED',
      },
      'reason': '设备维修',
      'shelf': '工作流仓库',
      'status': 'PENDING',
      'thingMaintenance': None,
      'thingRepair': {
        '__typename': 'ThingRepair',
        'addition': '[{"key": "9417c064f8cb4ef2848908301e530843", "value": "1"},
                     {"key": "405acb20b4674a6888569e02da022a19", "value": "1"},
                     ...(15 hidden lines)',
        'code': 'WX202009160001',
        'faultDesc': 'faultDesc_8ve90',
        'faultImages': [
          {'id': '2', 'name': 'test2.jpeg', 'url': '...(len=368),
          {'id': '3', 'name': 'test3.jpeg', 'url': '...(len=368),
          {'id': '4', 'name': 'test.pdf', 'url': 'ht...(len=364),
        ],
        'finishedAt': 1589294700000,
        'id': '1',
        'laborCosts': 1.0,
        'materialCosts': 1.0,
        'otherCosts': 1.0,
        'reportDepartment': 'reportDepartment_e4qhr',
        'reportedAt': 1600221687839,
        'result': '成功',
        'resultHistory': ['成功'],
        'sparePartCosts': 1.0,
        'status': 'FEEDBACK',
        'thing': {
          '__typename': 'Thing',
          'activatedAt': None,
          'addition': None,
          'attachments': None,
          'brand': '1',
          'category': '1',
          'code': 'code_smkpy',
          'contact': None,
          'depreciationRate': None,
          'desc': None,
          'distributor': None,
          'factory': '1',
          'id': '2',
          'images': None,
          'location': None,
          'manufacturer': None,
          'model': 'model_t2zf7',
          'name': 'name_cjcxn',
          'phone': None,
          'purchasedAt': None,
          'purchasedPrice': None,
          'purpose': '1',
          'qrCode': 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgA...(len=594)',
          'spareParts': [{'id': '5', 'name': 'name_h6t1q',...(len=835219),
          'status': '1',
          'yearsOfUse': None,
        },
        'totalCosts': 4.0,
        'worker': {
          '__typename': 'Employee',
          'account': 'admin',
          'code': None,
          'department': {'id': '1', 'name': '喜临门家具股份有限公司...(len=107),
          'email': None,
          'id': '1',
          'job': None,
          'name': '管理员',
          'phone': None,
          'roles': [{'id': '1', 'name': '负责人', '__typename': 'Role'}],
          'status': 'ACTIVATED',
        },
      },
      'time': 1600248173520,
    },
  },
  'errors': None,
}

DEBUG    mytest:test_sparePartOutboundFlow.py:41 spare_part_outbound =26
DEBUG    mytest:GraphqlClient.py:34 http://192.168.1.175:8888/graphql/?updateSparePartOutboundStatus
DEBUG    mytest:GraphqlClient.py:35 {'Content-Type': 'application/json', 'authorization': 'Token eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJjcmVkZW50aWFscyI6eyJlbXBsb3llZV9pZCI6MSwiaXNfYWRtaW5fIjp0cnVlfSwidXNlciI6eyJpZCI6MSwiY29tcGFueV9pZCI6MSwibmFtZSI6Ilx1N2JhMVx1NzQwNlx1NTQ1OCIsImRlcGFydG1lbnRfaWQiOjEsImNvZGUiOm51bGwsInBob25lIjpudWxsLCJqb2IiOm51bGwsImVtYWlsIjpudWxsLCJhY2NvdW50IjoiYWRtaW4iLCJzdGF0dXMiOiJBQ1RJVkFURUQiLCJyb2xlcyI6bnVsbH0sImV4cCI6MTYwMDMzNDQyNH0.6D2KbRD_GY75CUrcFQPD9YZZ-j2OeqFpUbLyXnNQkFE'}
DEBUG    mytest:GraphqlClient.py:36 {
  'input': {
    'action': 'REJECT',
    'id': '26',
  },
}

DEBUG    mytest:GraphqlClient.py:39 {
  'data': {
    'updateSparePartOutboundStatus': {
      '__typename': 'SparePartOutbound',
      'addition': '[]',
      'details': [
        {
          '__typename': 'SparePartOutboundDetail',
          'number': 1,
          'reason': 'LOOSEN',
          'sparePart': {'id': '2', 'name': 'name_pdgl4', 'desc':...(len=23192),
          'totalPrice': 1.01,
        },
      ],
      'factory': '工作流工厂',
      'id': '26',
      'operator': {
        '__typename': 'Employee',
        'account': 'admin',
        'code': None,
        'department': {
          '__typename': 'Department',
          'headcount': 9,
          'id': '1',
          'name': '喜临门家具股份有限公司',
          'parentPath': [],
          'subsidiaries': [],
        },
        'email': None,
        'id': '1',
        'job': None,
        'name': '管理员',
        'phone': None,
        'roles': [
          {'id': '1', 'name': '负责人', 'permissions':...(len=170),
        ],
        'status': 'ACTIVATED',
      },
      'reason': '设备维修',
      'shelf': '工作流仓库',
      'status': 'REJECTED',
      'thingMaintenance': None,
      'thingRepair': {
        '__typename': 'ThingRepair',
        'addition': '[{"key": "9417c064f8cb4ef2848908301e530843", "value": "1"},
                     {"key": "405acb20b4674a6888569e02da022a19", "value": "1"},
                     ...(15 hidden lines)',
        'code': 'WX202009160001',
        'faultDesc': 'faultDesc_8ve90',
        'faultImages': [
          {'id': '2', 'name': 'test2.jpeg', 'url': '...(len=368),
          {'id': '3', 'name': 'test3.jpeg', 'url': '...(len=368),
          {'id': '4', 'name': 'test.pdf', 'url': 'ht...(len=364),
        ],
        'finishedAt': 1589294700000,
        'id': '1',
        'laborCosts': 1.0,
        'materialCosts': 1.0,
        'otherCosts': 1.0,
        'reportDepartment': 'reportDepartment_e4qhr',
        'reportedAt': 1600221687839,
        'result': '成功',
        'resultHistory': ['成功'],
        'sparePartCosts': 1.0,
        'status': 'FEEDBACK',
        'thing': {
          '__typename': 'Thing',
          'activatedAt': None,
          'addition': None,
          'attachments': None,
          'brand': '1',
          'category': '1',
          'code': 'code_smkpy',
          'contact': None,
          'depreciationRate': None,
          'desc': None,
          'distributor': None,
          'factory': '1',
          'id': '2',
          'images': None,
          'location': None,
          'manufacturer': None,
          'model': 'model_t2zf7',
          'name': 'name_cjcxn',
          'phone': None,
          'purchasedAt': None,
          'purchasedPrice': None,
          'purpose': '1',
          'qrCode': 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgA...(len=594)',
          'spareParts': [{'id': '5', 'name': 'name_h6t1q',...(len=835219),
          'status': '1',
          'yearsOfUse': None,
        },
        'totalCosts': 4.0,
        'worker': {
          '__typename': 'Employee',
          'account': 'admin',
          'code': None,
          'department': {'id': '1', 'name': '喜临门家具股份有限公司...(len=107),
          'email': None,
          'id': '1',
          'job': None,
          'name': '管理员',
          'phone': None,
          'roles': [{'id': '1', 'name': '负责人', '__typename': 'Role'}],
          'status': 'ACTIVATED',
        },
      },
      'time': 1600248173520,
    },
  },
  'errors': None,
}

DEBUG    mytest:AssertMethod.py:17 
jsonpath : '$..status'
get
''REJECTED'
'
from
result
DEBUG    mytest:AssertMethod.py:18 except REJECTED